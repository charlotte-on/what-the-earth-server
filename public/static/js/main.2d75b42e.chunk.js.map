{"version":3,"sources":["api/apiHandler.js","components/Auth/UserContext.jsx","components/Auth/UserProvider.jsx","components/Auth/withUser.jsx","components/NavMain.jsx","components/Footer.jsx","pages/Home.jsx","components/Forms/FormSignin.jsx","pages/Signin.jsx","components/Forms/FormSignup.jsx","pages/Signup.jsx","components/SearchBar.jsx","pages/Products/ProductsList.jsx","pages/Products/Products.jsx","pages/Products/ProductPage.jsx","pages/Products/Simulator.jsx","pages/Producer/ProducerLandingPage.jsx","pages/Producer/ProducerDescriptionPage.jsx","components/ProtectedRoute.jsx","pages/User/UserPage.jsx","pages/User/UserUpdate.jsx","pages/User/PasswordUpdate.jsx","pages/About.jsx","components/Forms/LocationAutoComplete.jsx","utils.js","components/Forms/FormRegisterCompany.jsx","components/Forms/FormSigninProducer.jsx","pages/SigninProducer.jsx","components/Forms/EditProducer.jsx","App.jsx","index.js"],"names":["service","axios","create","baseURL","process","withCredentials","errorHandler","error","response","data","console","log","userInfo","post","then","res","catch","companyInfo","get","id","body","patch","comment","producerInfo","userId","datas","UserContext","React","createContext","UserProvider","state","user","isLoggedIn","isLoading","producer","setUser","cb","setState","companyName","removeUser","apiHandler","authValues","this","Provider","value","props","children","Component","withUser","ComponentToPassUserContextTo","Consumer","context","active","handleLogout","toggleClass","currentState","className","src","alt","onClick","style","borderRadius","height","width","backgroundImage","image","backgroundPosition","backgroundSize","backgroundRepeat","marginBottom","firstName","to","Footer","background","color","document","title","position","filter","padding","textAlign","top","left","Button","variant","_id","FormSignin","email","password","handleChange","event","key","target","name","handleSubmit","preventDefault","onChange","onSubmit","TextField","margin","type","label","autoComplete","contextType","withRouter","Signin","FormSignup","lastName","imageRef","createRef","fd","FormData","append","current","files","handleFileSelect","file","url","URL","createObjectURL","ref","htmlFor","IconButton","aria-label","component","fontSize","Signup","SearchBar","placeholder","handleSearch","ProductsList","products","filteredProducts","product","Nom_du_Produit_en_Français","toLowerCase","normalize","replace","includes","map","coloredNumber","fontWeight","roundNumber","Products","number","toFixed","responseFromApi","results","ProductPage","match","params","filterOptions","createFilterOptions","limit","Simulator","selectedProducts","total","onProductChange","qty","Math","trunc","length","p","deleteProduct","nom_francais","handleValue","prod","calcul","history","push","Autocomplete","options","AgribalyseSorted","getOptionLabel","option","renderInput","impact_environnemental","synthese","marginLeft","min","max","size","Map","ReactMapboxGl","accessToken","ProducerLandingPage","allProducers","filteredProducers","selectedProducer","handleFilter","field","producers","err","navigator","geolocation","getCurrentPosition","pos","crd","coords","latitude","longitude","warn","code","message","enableHighAccuracy","timeout","maximumAge","containerStyle","center","coordinates","location","offsetTop","offsetLeft","offset","bottom","formattedAddress","FormControl","InputLabel","Select","MenuItem","bannerImg","schedule","comments","rate","review","producerId","visibilityForm","starsRating","rating","ratingRounded","floor","handleClickForm","dataFormatted","reduce","a","b","description","display","justifyContent","alignItems","startIcon","href","phoneNumber","anchor","Avatar","format","createdAt","multiline","rows","rest","render","httpResponse","checkError","status","disabled","PasswordUpdate","old_password","new_password","confirmed_password","dir","About","LocationAutoComplete","search","handleSearchChange","bind","e","clearTimeout","timeoutId","setTimeout","performSearch","features","place","place_name","onSelect","handleItemClicked","buildFormData","formData","parentKey","Date","File","Object","keys","forEach","FormRegisterCompany","handlePlace","geometry","fromEntries","producerFirstName","producerLastName","FormSigninProducer","FormEditCompany","App","exact","path","Home","SignInProducer","EditProducer","ProducerDescriptionPage","UserPage","UserUpdate","ReactDOM","getElementById"],"mappings":"kxvhbAEMA,EAAUC,IAAMC,OAAO,CAC3BC,QAASC,uCACTC,iBAAiB,IAGnB,SAASC,EAAaC,GACpB,GAAIA,EAAMC,SAASC,KAEjB,MADAC,QAAQC,IAAIJ,EAAMC,UAAYD,EAAMC,SAASC,MACvCF,EAER,MAAMA,EAGO,eAGNK,GACL,OAAOZ,EACJa,KAAK,mBAAoBD,GACzBE,MAAK,SAACC,GAAD,OAASA,EAAIN,QAClBO,MAAMV,IAPE,WAUIW,GACf,OAAOjB,EACJa,KAAK,wBAAyBI,GAC9BH,MAAK,SAACC,GAAD,OAASA,EAAIN,QAClBO,MAAMV,IAdE,aAkBX,OAAON,EACJkB,IAAI,mBACJJ,MAAK,SAACC,GAAD,OAASA,EAAIN,QAClBO,MAAMV,IArBE,WAwBEa,EAAIC,GACjB,OAAOpB,EACJqB,MAAM,uBAAyBF,EAAIC,GACnCN,MAAK,SAACC,GAAD,OAASA,EAAIN,QAClBO,MAAMV,IA5BE,WA+BEa,GACb,OAAOnB,EACJkB,IAAI,kBAAoBC,GACxBL,MAAK,SAACC,GAAD,OAASA,EAAIN,QAClBO,MAAMV,IAnCE,WAsCDa,GACV,OAAOnB,EACJkB,IAAI,iBAAmBC,GACvBL,MAAK,SAACC,GAAD,OAASA,EAAIN,QAClBO,MAAMV,IA1CE,WA6CDgB,GACV,OAAOtB,EACJa,KAAK,iBAAkBS,GACvBR,MAAK,SAACC,GAAD,OAASA,EAAIN,QAClBO,MAAMV,IAjDE,WAoDNM,GACL,OAAOZ,EACJa,KAAK,mBAAoBD,GACzBE,MAAK,SAACC,GAAD,OAASA,EAAIN,QAClBO,MAAMV,IAxDE,WA2DEiB,GACb,OAAOvB,EACJa,KAAK,wBAAyBU,GAC9BT,MAAK,SAACC,GAAD,OAASA,EAAIN,QAClBO,MAAMV,IA/DE,aAmEX,OAAON,EACJkB,IAAI,wBACJJ,MAAK,SAACC,GAAD,OAASA,EAAIN,QAClBO,MAAMV,IAtEE,aA0EX,OAAON,EACJkB,IAAI,oBACJJ,MAAK,SAACC,GAAD,OAASA,EAAIN,QAClBO,MAAMV,IA7EE,WAuFFG,GACT,OAAOT,EACJqB,MAAM,gBAAiBZ,GACvBK,MAAK,SAACC,GAAD,OAASA,EAAIN,QAClBO,MAAMV,IA3FE,WA8FMG,GACjB,OAAOT,EACJqB,MAAM,wBAAyBZ,GAC/BK,MAAK,SAACC,GAAD,OAASA,EAAIN,QAClBO,MAAMV,IAlGE,WAqGAkB,GACX,OAAOxB,EACJkB,IADI,qBACcM,IAClBV,MAAK,SAACC,GAAD,OAASA,EAAIN,QAClBO,MAAMV,IAzGE,WA2GAmB,GACX,OAAOzB,EACJa,KAAK,0BAA2BY,GAChCX,MAAK,SAACC,GAAD,OAASA,EAAIN,QAClBO,MAAMV,IC5HAoB,EAAcC,IAAMC,gBCyElBC,E,4MAtEbC,MAAQ,CACNC,KAAM,KACNC,YAAY,EACZC,WAAW,EACXC,UAAU,G,EAiCZC,QAAU,SAACJ,EAAMK,GACf,EAAKC,SACH,CAAEN,OAAMC,YAAY,EAAME,WAAUH,EAAKO,cACzC,WACEF,GAAMA,Q,EAKZG,WAAa,WACX,EAAKF,SAAS,CAAEN,KAAM,KAAMC,YAAY,EAAOE,UAAU,K,kEAxCtC,IAAD,OAClBM,IAEG1B,MAAK,SAACL,GACDA,EAAK6B,YACP,EAAKD,SAAS,CACZN,KAAMtB,EACNuB,YAAY,EACZC,WAAW,EACXC,UAAU,IAGZ,EAAKG,SAAS,CACZN,KAAMtB,EACNuB,YAAY,EACZC,WAAW,EACXC,UAAU,OAIflB,OAAM,SAACT,GACN,EAAK8B,SAAS,CACZN,KAAM,KACNC,YAAY,EACZC,WAAW,EACXC,UAAU,S,+BAqBhB,IAAMO,EAAa,CACjBV,KAAMW,KAAKZ,MAAMC,KACjBI,QAASO,KAAKP,QACdI,WAAYG,KAAKH,WACjBP,WAAYU,KAAKZ,MAAME,WACvBC,UAAWS,KAAKZ,MAAMG,UACtBC,SAAUQ,KAAKZ,MAAMI,UAGvB,OACE,kBAACR,EAAYiB,SAAb,CAAsBC,MAAOH,GAC1BC,KAAKG,MAAMC,c,GAjEOC,a,QCuBdC,EAAW,SAACC,GACvB,OAAO,SAAUJ,GACf,OACE,kBAACnB,EAAYwB,SAAb,MACG,SAACC,GAAD,OACC,kBAACF,EAAD,iBAAkCJ,EAAlC,CAAyCM,QAASA,UC6G7CH,G,OAAAA,EAtIf,4MACElB,MAAQ,CACNC,KAAM,KACNqB,QAAQ,GAHZ,EAMEC,aAAe,WACbb,IAEG1B,MAAK,WACJ,EAAK+B,MAAMM,QAAQZ,gBAEpBvB,OAAM,SAACT,GACNG,QAAQC,IAAIJ,OAbpB,EAiBE+C,YAAc,WACZ,IAAMC,EAAe,EAAKzB,MAAMsB,OAChC,EAAKf,SAAS,CAAEe,QAASG,KAnB7B,uDAsBY,IAAD,OACP,OACE,yBAAKC,UAAU,WACb,yBACEA,UAAU,cACVC,IAAI,yBACJC,IAAI,cACJC,QAASjB,KAAKY,cAEhB,yBAAKE,UAAWd,KAAKZ,MAAMsB,OAAS,SAAW,MAC7C,yBAAKI,UAAU,gBACb,yBAAKA,UAAU,QAAQG,QAASjB,KAAKY,aACnC,yBAAKG,IAAI,mBAAmBC,IAAI,MAElC,6BACIhB,KAAKG,MAAMM,QAAQpB,KAGnB,yBAAKyB,UAAU,SACZ,IACD,yBACEI,MAAO,CACLC,aAAc,MACdC,OAAQ,OACRC,MAAO,OACPC,gBAAgB,OAAD,OAAStB,KAAKG,MAAMM,QAAQpB,KAAKkC,MAAjC,KACfC,mBAAoB,SACpBC,eAAgB,QAChBC,iBAAkB,YAClBC,aAAc,SAGlB,uCAAa3B,KAAKG,MAAMM,QAAQpB,KAAKuC,YAhBvC,wCAqBJ,6BACE,kBAAC,IAAD,CAAMC,GAAG,IAAIf,UAAU,eAAeG,QAASjB,KAAKY,aAApD,WAGA,6BACA,kBAAC,IAAD,CACEiB,GAAG,YACHf,UAAU,eACVG,QAASjB,KAAKY,aAHhB,YAOA,6BACA,kBAAC,IAAD,CACEiB,GAAG,sBACHf,UAAU,eACVG,QAASjB,KAAKY,aAHhB,cAOA,6BACA,kBAAC,IAAD,CACEiB,GAAG,aACHf,UAAU,eACVG,QAASjB,KAAKY,aAHhB,eAOA,6BACA,kBAAC,IAAD,CACEiB,GAAG,WACHf,UAAU,eACVG,QAASjB,KAAKY,aAHhB,cAOA,6BACA,kBAAC,IAAD,CACEiB,GAAG,SACHf,UAAU,eACVG,QAASjB,KAAKY,aAHhB,gBAQF,yBAAKE,UAAU,gBACXd,KAAKG,MAAMM,QAAQpB,KAMnB,yBACEyB,UAAU,SACVG,QAAS,WACP,EAAKN,eACL,EAAKC,gBAGP,yBAAKG,IAAI,oBAAoBC,IAAI,gBACjC,iDAbF,kBAAC,IAAD,CAAMa,GAAG,UAAUZ,QAASjB,KAAKY,YAAaE,UAAU,SACtD,yBAAKC,IAAI,oBAAoBC,IAAI,gBACjC,8CAgBR,yBAAKF,UAAU,aAEjB,kBAAC,IAAD,CAASe,GAAG,KACV,wBAAIf,UAAU,QAAd,wBA/HV,GAA6B7B,IAAMoB,a,SCGpByB,EARA,WACb,OACE,gCACE,yDCEAZ,EAAQ,CACZa,WAAY,UACZC,MAAO,SA4GM1B,I,4MApGbK,aAAe,WACbb,IAEG1B,MAAK,WACJ,EAAK+B,MAAMM,QAAQZ,gBAEpBvB,OAAM,SAACT,GACNG,QAAQC,IAAIJ,O,kEAVhBoE,SAASC,MAAQ,kC,+BAejB,OACE,yBAAKpB,UAAU,iBACb,yBAAKI,MAAO,CAAEiB,SAAU,aACtB,yBACEjB,MAAO,CAAEkB,OAAQ,mBACjBrB,IAAI,yBACJC,IAAI,mBAEN,uBACEE,MAAO,CACLmB,QAAS,OACTL,MAAO,QACPM,UAAW,SACXH,SAAU,WACVI,IAAK,mBACLC,KAAM,oBACNnB,MAAO,UARX,uHAYiD,IAC/C,kBAAC,IAAD,CAAMP,UAAU,kBAAkBe,GAAG,KAArC,eAbF,MAoBF,kBAAC,IAAD,CAAMA,GAAG,aACP,kBAACY,EAAA,EAAD,CAAQvB,MAAOA,EAAOwB,QAAQ,aAA9B,uBAIF,kBAAC,IAAD,CAAMb,GAAG,cACP,kBAACY,EAAA,EAAD,CAAQvB,MAAOA,EAAOwB,QAAQ,aAA9B,4BAIA1C,KAAKG,MAAMM,QAAQpB,MACnB,yBAAKyB,UAAU,iBACb,sDACA,kBAAC,IAAD,CAAMA,UAAU,kBAAkBe,GAAG,WAArC,sBAGA,kBAAC,IAAD,CAAMf,UAAU,kBAAkBe,GAAG,WAArC,gBAGA,wDACA,kBAAC,IAAD,CAAMf,UAAU,kBAAkBe,GAAG,uBAArC,4BAGA,kBAAC,IAAD,CAAMf,UAAU,kBAAkBe,GAAG,qBAArC,gCAMH7B,KAAKG,MAAMM,QAAQpB,OAASW,KAAKG,MAAMM,QAAQjB,SAC9C,yBAAKsB,UAAU,iBACb,kBAAC,IAAD,CAAMA,UAAU,kBAAkBe,GAAG,YAArC,cAGA,uBAAGZ,QAASjB,KAAKW,aAAcG,UAAU,mBAAzC,sBAIA,KAEHd,KAAKG,MAAMM,QAAQjB,UAClB,yBAAKsB,UAAU,iBACb,2BAAId,KAAKG,MAAMM,QAAQpB,KAAKO,aAC5B,kBAAC,IAAD,CACEkB,UAAU,kBACVe,GAAE,0BAAqB7B,KAAKG,MAAMM,QAAQpB,KAAKsD,MAFjD,6BAMA,uBAAG1B,QAASjB,KAAKW,aAAcG,UAAU,mBAAzC,sBAKJ,kBAAC,EAAD,W,GAnGW7B,IAAMoB,Y,iBCLnBa,EAAQ,CACZa,WAAY,UACZC,MAAO,SAGHY,E,4MAGJxD,MAAQ,CACNyD,MAAO,GACPC,SAAU,I,EAGZC,aAAe,SAACC,GACd,IAAMC,EAAMD,EAAME,OAAOC,KACnBjD,EAAQ8C,EAAME,OAAOhD,MAE3B,EAAKP,SAAL,eAAiBsD,EAAM/C,K,EAGzBkD,aAAe,SAACJ,GACdA,EAAMK,iBAENvD,EACU,EAAKV,OACZhB,MAAK,SAACL,GACL,EAAK0C,QAAQhB,QAAQ1B,MAEtBO,OAAM,SAACT,GACNG,QAAQC,IAAIJ,O,uDAMhB,OAAImC,KAAKS,QAAQpB,KACR,kBAAC,IAAD,CAAUwC,GAAG,MAIpB,0BACEf,UAAU,gBACVwC,SAAUtD,KAAK+C,aACfQ,SAAUvD,KAAKoD,cAEf,kBAACI,EAAA,EAAD,CACEtC,MAAO,CAAEuC,OAAQ,QACjBhF,GAAG,uBACHiF,KAAK,QACLP,KAAK,QACLQ,MAAM,QACNjB,QAAQ,aAEV,kBAACc,EAAA,EAAD,CACEtC,MAAO,CAAEuC,OAAQ,QACjBhF,GAAG,0BACHkF,MAAM,eACND,KAAK,WACLP,KAAK,WACLS,aAAa,mBACblB,QAAQ,aAEV,kBAACD,EAAA,EAAD,CAAQvB,MAAOA,EAAOwC,KAAK,SAAShB,QAAQ,aAA5C,qB,GAzDiBrC,aAAnBuC,EACGiB,YAAc7E,EAgER8E,kBAAWlB,GC5DXmB,EAdA,SAAC5D,GACd,OACE,yBAAKW,UAAU,iBACb,yBACEI,MAAO,CAAEG,MAAO,QAChBN,IAAI,aACJC,IAAI,wBAEN,2FACA,kBAAC,EAAD,Q,0BCHAE,EAAQ,CACZa,WAAY,UACZC,MAAO,SAGHgC,E,4MAGJ5E,MAAQ,CACNmC,MAAO,GACPsB,MAAO,GACPC,SAAU,GACVlB,UAAW,GACXqC,SAAU,I,EAGZC,SAAWjF,IAAMkF,Y,EAEjBpB,aAAe,SAACC,GACd,IAAM9C,EAAQ8C,EAAME,OAAOhD,MACrB+C,EAAMD,EAAME,OAAOC,KAEzB,EAAKxD,SAAL,eAAiBsD,EAAM/C,K,EAGzBkD,aAAe,SAACJ,GACdA,EAAMK,iBAEN,IAAMe,EAAK,IAAIC,SAEf,IAAK,IAAMpB,KAAO,EAAK7D,MACT,UAAR6D,GACJmB,EAAGE,OAAOrB,EAAK,EAAK7D,MAAM6D,IAGxB,EAAKiB,SAASK,QAAQC,MAAM,KAC9BxG,QAAQC,IAAI,EAAKiG,SAASK,QAAQC,MAAM,IACxCJ,EAAGE,OAAO,QAAS,EAAKJ,SAASK,QAAQC,MAAM,KAGjD1E,EACUsE,GACPhG,MAAK,SAACL,GACL,EAAK0C,QAAQhB,QAAQ1B,MAEtBO,OAAM,SAACT,GACNG,QAAQC,IAAIJ,O,EAKlB4G,iBAAmB,SAACzB,GAClB,IAAM0B,EAAO1B,EAAME,OAAOsB,MAAM,GAC1BG,EAAMC,IAAIC,gBAAgBH,GAChC,EAAK/E,SAAS,CAAEgF,IAAKA,K,uDAIrB,OAAI3E,KAAKS,QAAQpB,KACR,kBAAC,IAAD,CAAUwC,GAAG,MAIpB,0BACEf,UAAU,gBACVwC,SAAUtD,KAAK+C,aACfQ,SAAUvD,KAAKoD,cAEf,yBAAKrC,IAAKf,KAAKZ,MAAMuF,IAAK3D,IAAI,KAC9B,6BACE,2BACEsC,SAAUtD,KAAKyE,iBACff,KAAK,OACLoB,IAAK9E,KAAKkE,SACVzF,GAAG,qBAEL,2BAAOsG,QAAQ,oBACb,kBAACC,EAAA,EAAD,CACE9D,MAAOA,EACPc,MAAM,UACNiD,aAAW,iBACXC,UAAU,QAEV,kBAAC,IAAD,CAAaC,SAAS,aAK5B,kBAAC3B,EAAA,EAAD,CACEtD,MAAOF,KAAKZ,MAAMwC,UAClB+B,MAAM,YACND,KAAK,OACLjF,GAAG,YACH0E,KAAK,YACLT,QAAQ,WACRxB,MAAO,CAAEuC,OAAQ,UAEnB,kBAACD,EAAA,EAAD,CACEtD,MAAOF,KAAKZ,MAAM6E,SAClBN,MAAM,iBACND,KAAK,OACLjF,GAAG,WACH0E,KAAK,WACLT,QAAQ,WACRxB,MAAO,CAAEuC,OAAQ,UAEnB,kBAACD,EAAA,EAAD,CACEtD,MAAOF,KAAKZ,MAAMyD,MAClBc,MAAM,QACND,KAAK,QACLjF,GAAG,QACH0E,KAAK,QACLT,QAAQ,WACRxB,MAAO,CAAEuC,OAAQ,UAEnB,kBAACD,EAAA,EAAD,CACEtD,MAAOF,KAAKZ,MAAM0D,SAClBa,MAAM,eACND,KAAK,WACLjF,GAAG,WACH0E,KAAK,WACLT,QAAQ,WACRxB,MAAO,CAAEuC,OAAQ,UAEnB,kBAAChB,EAAA,EAAD,CAAQvB,MAAOA,EAAOwC,KAAK,SAAShB,QAAQ,aAA5C,mB,GAvHiBrC,aAAnB2D,EACGH,YAAc7E,EA8HR8E,kBAAWE,GCtIXoB,EAJA,SAACjF,GACd,OAAO,kBAAC,EAAD,OCcMkF,EAhBf,uKAEI,OACE,0BAAMvE,UAAU,QACd,2BACEA,UAAU,SACVqC,KAAK,SACLO,KAAK,SACL4B,YAAY,sBACZhC,SAAUtD,KAAKG,MAAMoF,oBAT/B,GAA+BlF,aC0DhBmF,GAxDf,4MACEpG,MAAQ,CACNqG,SAAU,EAAKtF,MAAMsF,SACrBC,iBAAkB,EAAKvF,MAAMsF,UAHjC,EAMEF,aAAe,SAACvC,GACd,EAAKrD,SAAS,CACZ+F,iBAAkB,EAAKtG,MAAMqG,SAASrD,QAAO,SAACuD,GAAD,OAC3CA,EAAQC,gCAA2BC,cAChCC,UAAU,OACVC,QAAQ,mBAAoB,IAC5BC,SACChD,EAAME,OAAOhD,MACV2F,cACAC,UAAU,OACVC,QAAQ,mBAAoB,WAhB3C,uDAsBY,IAAD,OACP,OACE,6BACE,kBAAC,EAAD,CAAWR,aAAcvF,KAAKuF,eAC7BvF,KAAKZ,MAAMsG,iBAAiBO,KAAI,SAACN,GAChC,OACE,yBAAK1C,IAAK0C,EAAQhD,KAChB,kBAAC,IAAD,CAAMd,GAAE,oBAAe8D,EAAQhD,MAC7B,4BAAKgD,EAAQC,kCAEf,yCAEE,0BACE1E,MAAO,CACLc,MAAO,EAAK7B,MAAM+F,cAChBP,EAAQ,wCAEVQ,WAAY,SAGb,EAAKhG,MAAMiG,YACVT,EAAQ,0CAId,sCA/Cd,GAAkC1G,IAAMoB,WC0DzBgG,I,OAxDf,4MACEjH,MAAQ,CACNqG,SAAU,MAFd,EAmBEW,YAAc,SAACE,GACb,OAAOA,EAAOC,QAAQ,CAAC,KApB3B,EAuBEL,cAAgB,SAACI,GACf,OAAIA,EAAS,GAAY,QAChBA,GAAU,IAAOA,EAAS,IAAY,SACnC,OA1BhB,kEAKuB,IAAD,OAClB/I,IACGiB,IACC,o3CAEDJ,MAAK,SAACoI,GAEL,EAAK7G,SAAS,CACZ8F,SAAUe,EAAgBzI,KAAK0I,eAbzC,+BA8BI,OAAKzG,KAAKZ,MAAMqG,SAad,yBAAK3E,UAAU,eACb,iDACA,kBAAC,GAAD,CACE2E,SAAUzF,KAAKZ,MAAMqG,SACrBF,aAAcvF,KAAKuF,aACnBW,cAAelG,KAAKkG,cACpBE,YAAapG,KAAKoG,eAjBpB,6BACE,iDACA,yBACErF,IAAI,qBACJC,IAAI,eACJF,UAAU,iBArCtB,GAA8BT,cCqOfqG,GAxOf,4MACEtH,MAAQ,CACNuG,QAAS,MAFb,EAiBES,YAAc,SAACE,GACb,OAAOA,EAAOC,QAAQ,CAAC,KAlB3B,EAqBEL,cAAgB,SAACI,GACf,OAAIA,EAAS,GAAY,QAChBA,GAAU,IAAOA,EAAS,IAAY,SACnC,OAxBhB,kEAKuB,IAAD,OAClB/I,IACGiB,IADH,wHAEqHwB,KAAKG,MAAMwG,MAAMC,OAAOnI,GAF7I,i0CAIGL,MAAK,SAACoI,GACL,EAAK7G,SAAS,CACZgG,QAASa,EAAgBzI,KAAK0I,QAAQ,UAZhD,+BA4BI,OAAKzG,KAAKZ,MAAMuG,QAOd,6BACE,4BAAK3F,KAAKZ,MAAMuG,QAAQC,iCACxB,6CAAgB5F,KAAKZ,MAAMuG,QAAQ,0BACnC,4BACG,IADH,aAEa,IACX,0BACEzE,MAAO,CACLc,MAAOhC,KAAKkG,cACVlG,KAAKZ,MAAMuG,QAAQ,wCAErBQ,WAAY,SAGbnG,KAAKoG,YACJpG,KAAKZ,MAAMuG,QAAQ,0CAIzB,8BACA,+BACE,+BACE,4BACE,0CACA,sCACA,0CAGJ,+BACE,4BACE,+CACA,4BACG3F,KAAKoG,YACJpG,KAAKZ,MAAMuG,QAAQ,yCAGvB,kDAEF,4BACE,qDACA,4BACG3F,KAAKoG,YACJpG,KAAKZ,MAAMuG,QACT,qDAIN,wDAEF,4BACE,oEACA,4BACG3F,KAAKoG,YACJpG,KAAKZ,MAAMuG,QACT,2EAIN,+DAEF,4BACE,sDACA,4BACG3F,KAAKoG,YACJpG,KAAKZ,MAAMuG,QACT,yDAIN,2DAEF,4BACE,+DACA,4BACG3F,KAAKoG,YACJpG,KAAKZ,MAAMuG,QACT,sEAIN,+DAEF,4BACE,0CACA,4BACG3F,KAAKoG,YACJpG,KAAKZ,MAAMuG,QACT,kDAIN,gEAEF,4BACE,sEACA,4BACG3F,KAAKoG,YACJpG,KAAKZ,MAAMuG,QACT,sEAIN,wDAEF,4BACE,uDACA,4BACG3F,KAAKoG,YACJpG,KAAKZ,MAAMuG,QACT,sDAIN,uDAEF,4BACE,0DACA,4BACG3F,KAAKoG,YACJpG,KAAKZ,MAAMuG,QACT,6DAIN,2DAEF,4BACE,qDACA,4BACG3F,KAAKoG,YACJpG,KAAKZ,MAAMuG,QACT,wDAIN,2DAEF,4BACE,kDACA,4BACG3F,KAAKoG,YACJpG,KAAKZ,MAAMuG,QAAQ,2CAGvB,iDAEF,4BACE,+FACA,4BACG3F,KAAKoG,YACJpG,KAAKZ,MAAMuG,QACT,0FAIN,mDAEF,4BACE,gEACA,4BACG3F,KAAKoG,YACJpG,KAAKZ,MAAMuG,QACT,iEAIN,yDAEF,4BACE,+EACA,4BACG3F,KAAKoG,YACJpG,KAAKZ,MAAMuG,QACT,wEAIN,iDAEF,4BACE,wEACA,4BACG3F,KAAKoG,YACJpG,KAAKZ,MAAMuG,QACT,4EAIN,+DAjMN,yBAAK5E,IAAI,qBAAqBC,IAAI,eAAeF,UAAU,gBA9BnE,GAAiCT,a,gDCO3Ba,I,OAAQ,CACZa,WAAY,UACZC,MAAO,UAGH6E,GAAgBC,aAAoB,CACxCC,MAAO,KAqLMC,GAlLf,4MACE5H,MAAQ,CACN6H,iBAAkB,GAClBC,MAAO,KAHX,EAME9D,aAAe,SAACJ,GACdA,EAAMK,kBAPV,EAUE8D,gBAAkB,SAACjH,GACH,OAAVA,IACJA,EAAMkH,IAAMC,KAAKC,MAAM,KAAO,EAAKlI,MAAM6H,iBAAiBM,OAAS,IACnE,EAAK5H,SAAS,CACZsH,iBAAiB,GAAD,oBACX,EAAK7H,MAAM6H,iBAAiBhB,KAAI,SAACuB,GAAD,oBAAC,gBAC/BA,GAD8B,IAEjCJ,IAAKC,KAAKC,MAAM,KAAO,EAAKlI,MAAM6H,iBAAiBM,OAAS,UAHhD,CAKdrH,QAnBR,EAwBEuH,cAAgB,SAACtE,GACf,EAAKxD,SAAS,CACZsH,iBAAiB,aACZ,EAAK7H,MAAM6H,iBAAiB7E,QAC7B,SAACuD,GAAD,OAAaA,EAAQ+B,eAAiBvE,SA5BhD,EAkCEwE,YAAc,SAACzH,EAAOiD,GAQpB,EAAKxD,SAAS,CACZsH,iBAAkB,EAAK7H,MAAM6H,iBAAiBhB,KAAI,SAAC2B,GACjD,OAAOA,EAAKF,eAAiBvE,EAAtB,6BAAkCyE,GAAlC,IAAwCR,IAAKlH,IAAU0H,QA5CtE,EAiDEC,OAAS,SAAC7E,GACRA,EAAMK,iBACN,IAAMtE,EAAQ,EAAKK,MAAM6H,iBAEzBnH,EACgBf,GACbX,MAAK,SAACL,GACL,EAAKoC,MAAM2H,QAAQC,KAAnB,+BAAgDhK,EAAK4E,SAEtDrE,OAAM,SAACT,GACNG,QAAQC,IAAIJ,OA3DpB,EA+DEuI,YAAc,SAACE,GACb,OAAOA,EAAOC,QAAQ,CAAC,KAhE3B,EAmEEL,cAAgB,SAACI,GACf,OAAIA,EAAS,GAAY,QAChBA,GAAU,IAAOA,EAAS,IAAY,SACnC,OAtEhB,uDAyEY,IAAD,OACP,OACE,6BACE,qDACA,sHAIA,0BAAM/C,SAAUvD,KAAKoD,cACnB,kBAAC4E,GAAA,EAAD,CACEvJ,GAAG,UACHwJ,QAASC,GACTC,eAAgB,SAACC,GAAD,OAAYA,EAAOV,cACnCb,cAAeA,GACf3F,MAAO,CAAEG,MAAO,KAChBiC,SAAU,SAACN,EAAO9C,GAChB,EAAKiH,gBAAgBjH,IAEvBmI,YAAa,SAACzB,GAAD,OACX,kBAACpD,EAAA,EAAD,iBACMoD,EADN,CAEEjD,MAAM,UACNjB,QAAQ,WACRS,KAAK,mBAK2B,IAAvCnD,KAAKZ,MAAM6H,iBAAiBM,OAC3B,6BACE,qDAGF,6BACGvH,KAAKZ,MAAM6H,iBAAiBhB,KAAI,SAAC2B,GAChC,OACE,yBAAK3E,IAAK2E,EAAKF,cACb,yBAAK5G,UAAU,oBACb,2BACG8G,EAAKF,aADR,KACwB,IACtB,0BACExG,MAAO,CACLc,MAAO,EAAKkE,cACV0B,EAAKU,uBAAuB,mBACzBC,UAELpC,WAAY,SAGb,EAAKC,YACJwB,EAAKU,uBAAuB,mBACzBC,YAIT,yBACExH,IAAI,oBACJC,IAAI,gBACJE,MAAO,CAAEE,OAAQ,OAAQoH,WAAY,OACrCvH,QAAS,WACP,EAAKwG,cAAcG,EAAKF,kBAI9B,6BACE,0BAAM5G,UAAU,kBACd,2BAAOiE,QAAQ,SAAf,eACA,2BACErB,KAAK,SACLjF,GAAImJ,EAAKF,aACTvE,KAAK,UACLsF,IAAI,IACJC,IAAI,MACJC,KAAK,KACLzI,MAAO0H,EAAKR,IACZ9D,SAAU,SAACN,GAAD,OACR,EAAK2E,YACH3E,EAAME,OAAOhD,MACb0H,EAAKF,iBAIX,2BAAO3C,QAAQ,SAAf,WAMV,0BAAMxB,SAAUvD,KAAK6H,QACnB,kBAACpF,EAAA,EAAD,CACEvB,MAAOA,GACPD,QAASjB,KAAK6H,OACdnF,QAAQ,YACR5B,UAAU,aAEV,+CAxKhB,GAA+BT,a,8ECPzBuI,GAAMC,aAAc,CACxBC,YAAapL,kGAuKAqL,GApKf,4MACE3J,MAAQ,CACN4J,aAAc,GACdC,kBAAmB,GACnBC,iBAAkB,KAClB/G,SAAU,CAAC,OAAQ,UALvB,EAsCEgH,aAAe,SAACnG,GACVA,EAAME,OAAOhD,MACf,EAAKP,SAAS,CACZsJ,kBAAmB,EAAK7J,MAAM4J,aAAa5G,QACzC,SAAC5C,GAAD,OAAcA,EAAS4J,QAAUpG,EAAME,OAAOhD,SAEhDgJ,iBAAkB,OAGpB,EAAKvJ,SAAS,CACZsJ,kBAAmB,EAAK7J,MAAM4J,aAC9BE,iBAAkB,QAjD1B,kEAQuB,IAAD,OAClBjH,SAASC,MAAQ,wCACjBpC,IAEG1B,MAAK,SAACiL,GACL,EAAK1J,SAAS,CACZqJ,aAAcK,EACdJ,kBAAmBI,OAGtB/K,OAAM,SAACgL,GAAD,OAAStL,QAAQC,IAAIqL,MAa9BC,UAAUC,YAAYC,oBAXN,SAACC,GACf,IAAIC,EAAMD,EAAIE,OACd5L,QAAQC,IAAR,qBAA0B0L,EAAIE,WAC9B7L,QAAQC,IAAR,sBAA2B0L,EAAIG,YAC/B,EAAKnK,SAAS,CAAEwC,SAAU,CAACwH,EAAIG,UAAWH,EAAIE,eAGlC,SAACP,GACbtL,QAAQ+L,KAAR,kBAAwBT,EAAIU,KAA5B,cAAsCV,EAAIW,YAGa,CACvDC,oBAAoB,EACpBC,QAAS,IACTC,WAAY,MAlClB,+BAsDY,IAAD,OACP,OACE,6BACE,kBAACxB,GAAD,CAEE1H,MAAM,mCACNmJ,eAAgB,CACdjJ,OAAQ,OACRC,MAAO,SAETiJ,OAAQtK,KAAKZ,MAAM+C,UAElBnC,KAAKZ,MAAM6J,kBAAkBhD,KAAI,SAACzG,GAAD,OAChC,kBAAC,KAAD,CACEyD,IAAKzD,EAASmD,IACd4H,YAAa/K,EAASgL,SAASD,YAC/BE,WAAY,GACZC,YAAa,GACbzJ,QAAS,WAC6B,OAAhC,EAAK7B,MAAM8J,iBACb,EAAKvJ,SAAS,CAAEuJ,iBAAkB1J,IAElC,EAAKG,SAAS,CAAEuJ,iBAAkB,SAItC,yBACEhI,MAAO,CAAEG,MAAO,QAChBN,IAAI,oBACJC,IAAKxB,EAASI,kBAIa,OAAhCI,KAAKZ,MAAM8J,kBACV,kBAAC,KAAD,CACEqB,YAAavK,KAAKZ,MAAM8J,iBAAiBsB,SAASD,YAClDI,OAAQ,CACN,cAAe,CAAC,IAAK,IACrBC,OAAQ,CAAC,GAAI,IACb,eAAgB,EAAE,IAAK,MAGzB,2BAAI5K,KAAKZ,MAAM8J,iBAAiBtJ,aAChC,2BAAII,KAAKZ,MAAM8J,iBAAiBE,OAChC,2BAAIpJ,KAAKZ,MAAM8J,iBAAiB2B,kBAChC,kBAAC,IAAD,CACE/J,UAAU,kBACVe,GAAE,qBAAgB7B,KAAKZ,MAAM8J,iBAAiBvG,MAFhD,oBASN,kBAACmI,GAAA,EAAD,CACE5J,MAAK,aAAIuC,OAAQ,OAAQpC,MAAO,OAA3B,SAA0C,kBAC/CqB,QAAQ,YAER,kBAACqI,GAAA,EAAD,CAAYtM,GAAG,qCAAf,UACA,kBAACuM,GAAA,EAAD,CACEvM,GAAG,iBACH0E,KAAK,iBACLQ,MAAM,SACNL,SAAUtD,KAAKmJ,cAGf,kBAAC8B,GAAA,EAAD,CAAU/K,OAAO,GAAjB,sBACA,kBAAC+K,GAAA,EAAD,CAAU/K,MAAO,cAAjB,YACA,kBAAC+K,GAAA,EAAD,CAAU/K,MAAO,eAAjB,aACA,kBAAC+K,GAAA,EAAD,CAAU/K,MAAO,gBAAjB,cACA,kBAAC+K,GAAA,EAAD,CAAU/K,MAAO,aAAjB,WACA,kBAAC+K,GAAA,EAAD,CAAU/K,MAAO,gBAAjB,gBACA,kBAAC+K,GAAA,EAAD,CAAU/K,MAAO,WAAjB,WACA,kBAAC+K,GAAA,EAAD,CAAU/K,MAAO,WAAjB,aAGJ,yBAAKY,UAAU,qBACZd,KAAKZ,MAAM6J,kBAAkBhD,KAAI,SAACzG,GAAD,OAChC,yBAAKsB,UAAU,WAAWmC,IAAKzD,EAASmD,KACtC,yBACEzB,MAAO,CACLG,MAAO,OACPD,OAAQ,QACRE,gBAAgB,OAAD,OAAS9B,EAAS0L,UAAlB,KACf1J,mBAAoB,SACpBC,eAAgB,QAChBC,iBAAkB,eAGtB,2BAAIlC,EAASI,aACb,2BAAIJ,EAAS4J,OACb,2BAAI5J,EAASqL,kBACb,2BACE,kBAAC,KAAD,MACCrL,EAAS2L,UAEZ,kBAAC,IAAD,CACErK,UAAU,kBACVe,GAAE,qBAAgBrC,EAASmD,MAF7B,uBAtJd,GAAyCtC,a,gJCMnCa,GAAQ,CACZa,WAAY,UACZC,MAAO,SAGH4G,GAAMC,aAAc,CACxBC,YAAapL,kGA2PA4C,KAxPf,4MACElB,MAAQ,CACNI,SAAU,GACV4L,SAAU,GACVC,KAAM,EACNC,OAAQ,GACRC,WAAY,EAAKpL,MAAMwG,MAAMC,OAAOnI,GACpC+M,eAAgB,QAPpB,EAUEzI,aAAe,SAACC,GACd,EAAKrD,SAAL,eAAiBqD,EAAME,OAAOC,KAAOH,EAAME,OAAOhD,SAXtD,EA8BEuL,YAAc,SAACC,GACb,IAAIC,EAAgBtE,KAAKuE,MAAMF,GAC/B,OAAsB,IAAlBC,EACK,6DACoB,IAAlBA,EACF,6DACoB,IAAlBA,EACF,6DACoB,IAAlBA,EACF,6DACoB,IAAlBA,EACF,6DAEA,MA3Cb,EA+CEE,gBAAkB,WACkB,SAA9B,EAAKzM,MAAMoM,eACb,EAAK7L,SAAS,CAAE6L,eAAgB,SAGhC,EAAK7L,SAAS,CAAE6L,eAAgB,UApDtC,EAwDEpI,aAAe,SAACJ,GACdA,EAAMK,iBAENvD,EACe,EAAKV,OACjBhB,MAAK,SAACL,GACL,IAAM+N,EAAa,gBAAQ/N,GAC3B+N,EAAchN,OAAS,CACrB8C,UAAW,EAAKzB,MAAMM,QAAQpB,KAAKuC,UACnCL,MAAO,EAAKpB,MAAMM,QAAQpB,KAAKkC,OAEjC,EAAK5B,SAAS,CAAEyL,SAAS,GAAD,oBAAM,EAAKhM,MAAMgM,UAAjB,CAA2BU,SAEpDxN,OAAM,SAACT,GACNG,QAAQC,IAAIJ,MAGhB,EAAK8B,SAAS,CAAE2L,OAAQ,GAAID,KAAM,KAzEtC,kEAcuB,IAAD,OAClBvL,EACkBE,KAAKG,MAAMwG,MAAMC,OAAOnI,IACvCL,MAAK,SAACoB,GACL,EAAKG,SAAS,CAAEH,gBAEjBlB,OAAM,SAACgL,GAAD,OAAStL,QAAQC,IAAIqL,MAE9BxJ,EACeE,KAAKG,MAAMwG,MAAMC,OAAOnI,IACpCL,MAAK,SAACgN,GACL,EAAKzL,SAAS,CAAEyL,gBAEjB9M,OAAM,SAACgL,GAAD,OAAStL,QAAQC,IAAIqL,QA3BlC,+BA4EY,IAAD,OACP,OAAKtJ,KAAKZ,MAAMI,SAMd,6BACE,yBAAK0B,MAAO,CAAEiB,SAAU,aACtB,yBACEjB,MAAO,CACLG,MAAO,OACPD,OAAQ,QACRgB,OAAQ,kBACRd,gBAAgB,OAAD,OAAStB,KAAKZ,MAAMI,SAAS0L,UAA7B,KACf1J,mBAAoB,SACpBC,eAAgB,QAChBC,iBAAkB,eAGtB,yBACER,MAAO,CACLiB,SAAU,WACVyI,OAAQ,KACRpI,KAAM,KACNR,MAAO,QACPyB,OAAQ,kBAGV,4BAAKzD,KAAKZ,MAAMI,SAASI,aACzB,2BAAII,KAAKZ,MAAMI,SAAS4J,SAG5B,0CACe,IACZpJ,KAAKyL,YACJzL,KAAKZ,MAAMgM,SAASW,QAAO,SAACC,EAAGC,GAAJ,OAAUD,EAAIC,EAAEZ,OAAM,GAC/CrL,KAAKZ,MAAMgM,SAAS7D,SAG1B,2BACE,kBAAC,KAAD,MADF,iBAEiBvH,KAAKZ,MAAMI,SAAS0M,aAErC,2BACE,kBAAC,KAAD,MADF,cAEclM,KAAKZ,MAAMI,SAAS2L,UAElC,yBACEjK,MAAO,CACLiL,QAAS,OACTC,eAAgB,eAChBC,WAAY,WAGd,kBAAC5J,EAAA,EAAD,CACEvB,MAAOA,GACPwB,QAAQ,YACR4J,UAAW,kBAAC,KAAD,MACXC,KAAM,OAASvM,KAAKZ,MAAMI,SAASgN,aAJrC,WAQA,kBAAC/J,EAAA,EAAD,CACEvB,MAAOA,GACPwB,QAAQ,YACR4J,UAAW,kBAAC,KAAD,MACXC,KAAM,UAAYvM,KAAKZ,MAAMI,SAASqD,OAJxC,qBASF,wBAAI3B,MAAO,CAAEoB,UAAW,SAAUmB,OAAQ,SAA1C,mBACA,2BACE,kBAAC,KAAD,MACCzD,KAAKZ,MAAMI,SAASqL,kBAEvB,kBAAC,GAAD,CAEE3J,MAAM,mCACNmJ,eAAgB,CACdjJ,OAAQ,OACRC,MAAO,SAETiJ,OAAQtK,KAAKZ,MAAMI,SAASgL,SAASD,aAErC,kBAAC,KAAD,CACEtH,IAAKjD,KAAKZ,MAAMI,SAASmD,IACzB4H,YAAavK,KAAKZ,MAAMI,SAASgL,SAASD,YAC1CkC,OAAO,UAEP,yBACEvL,MAAO,CAAEG,MAAO,QAChBN,IAAI,oBACJC,IAAKhB,KAAKZ,MAAMI,SAASI,gBAI/B,wBAAIsB,MAAO,CAAEoB,UAAW,SAAUmB,OAAQ,SAA1C,QACgC,IAA/BzD,KAAKZ,MAAMgM,SAAS7D,OACnB,wDAEAvH,KAAKZ,MAAMgM,SAASnF,KAAI,SAACrH,GAAD,OACtB,yBAAKqE,IAAKrE,EAAQ+D,IAAK7B,UAAU,YAC/B,kBAAC4L,GAAA,EAAD,CACE1L,IAAKpC,EAAQE,OAAO8C,UACpBb,IAAKnC,EAAQE,OAAOyC,QAEtB,kCACO3C,EAAQE,OAAO8C,UADtB,aACsC,IACpC,kBAAC,KAAD,CAAQ+K,OAAO,cAAc/N,EAAQgO,WAFvC,QAE6D,IAC3D,kBAAC,KAAD,CAAQD,OAAO,SAAS/N,EAAQgO,YAEjC,EAAKnB,YAAY7M,EAAQyM,MAC1B,2BAAIzM,EAAQ0M,YAIjBtL,KAAKG,MAAMM,QAAQnB,aAAeU,KAAKG,MAAMM,QAAQjB,SACpD,yBAAKsB,UAAU,iBACb,kBAAC2B,EAAA,EAAD,CACExB,QAASjB,KAAK6L,gBACdnJ,QAAQ,YACR4J,UAAW,kBAAC,KAAD,MACXpL,MAAOA,IAJT,qBAQA,0BACEJ,UAAU,gBACVwC,SAAUtD,KAAK+C,aACfQ,SAAUvD,KAAKoD,aACflC,MAAO,CAAEiL,QAASnM,KAAKZ,MAAMoM,iBAE7B,kBAAChI,EAAA,EAAD,CACE/E,GAAG,4BACHkF,MAAM,cACNR,KAAK,SACL0J,WAAS,EACTC,KAAM,EACNpK,QAAQ,WACRxC,MAAOF,KAAKZ,MAAMkM,OAClBpK,MAAO,CAAEuC,OAAQ,UAEnB,kBAACqH,GAAA,EAAD,CAAa5J,MAAO,CAAEuC,OAAQ,QAAUf,QAAQ,YAC9C,kBAACqI,GAAA,EAAD,CAAYtM,GAAG,qCAAf,QAGA,kBAACuM,GAAA,EAAD,CACE9J,MAAO,CAAEG,MAAO,SAChB5C,GAAG,OACH0E,KAAK,OACLQ,MAAM,OACNL,SAAUtD,KAAK+C,aACf7C,MAAOF,KAAKZ,MAAMiM,MAElB,kBAACJ,GAAA,EAAD,CAAU/K,MAAO,GAAjB,kCACA,kBAAC+K,GAAA,EAAD,CAAU/K,MAAO,GAAjB,kCACA,kBAAC+K,GAAA,EAAD,CAAU/K,MAAO,GAAjB,kCACA,kBAAC+K,GAAA,EAAD,CAAU/K,MAAO,GAAjB,kCACA,kBAAC+K,GAAA,EAAD,CAAU/K,MAAO,GAAjB,oCAGJ,kBAACuC,EAAA,EAAD,CAAQiB,KAAK,UAAb,aAGF,MAnKJ,yBAAK3C,IAAI,qBAAqBC,IAAI,eAAeF,UAAU,gBA/EnE,GAA6CT,c,SCjB9BC,MAVQ,SAAC,GAAgD,IAAnCD,EAAkC,EAA7C6E,UAAsBzE,EAAuB,EAAvBA,QAAYsM,EAAW,wCACrE,OAAItM,EAAQlB,UACH,KACEkB,EAAQnB,WACV,kBAAC,IAAD,iBAAWyN,EAAX,CAAiBC,OAAQ,SAAC7M,GAAD,OAAW,kBAACE,EAAcF,OAEnD,kBAAC,IAAD,CAAU0B,GAAG,eCHlBX,I,MAAQ,CACZa,WAAY,UACZC,MAAO,UAmEM1B,K,4MA/DbK,aAAe,WACbb,IAEG1B,MAAK,WACJ,EAAK+B,MAAMM,QAAQZ,gBAEpBvB,OAAM,SAACT,GACNG,QAAQC,IAAIJ,O,uDAKhB,OAAKmC,KAAKG,MAAMM,QAAQpB,KAatB,6BACE,sCACA,6BAEA,6BACE,yBAAK0B,IAAKf,KAAKG,MAAMM,QAAQpB,KAAKkC,MAAOP,IAAI,QAG/C,6BACE,4BAAKhB,KAAKG,MAAMM,QAAQpB,KAAKuC,YAG/B,6BACE,4BAAK5B,KAAKG,MAAMM,QAAQpB,KAAK4E,WAG/B,6BACE,4BAAKjE,KAAKG,MAAMM,QAAQpB,KAAKwD,QAG/B,6BACE,kBAAC,IAAD,CAAMhB,GAAE,mBAAc7B,KAAKG,MAAMM,QAAQpB,KAAKsD,MAC5C,kBAACF,EAAA,EAAD,CAAQvB,MAAOA,GAAOwB,QAAQ,aAA9B,yBAMJ,yBAAKzB,QAASjB,KAAKW,cACjB,kBAAC8B,EAAA,EAAD,CAAQvB,MAAOA,GAAOwB,QAAQ,aAA9B,uBAxCF,6BACE,yBACE3B,IAAI,qBACJC,IAAI,eACJF,UAAU,iB,GAnBC7B,IAAMoB,YCFvBa,GAAQ,CACZa,WAAY,UACZC,MAAO,SA4KM1B,K,4MAxKblB,MAAQ,CACNC,KAAM,KACN4N,aAAc,KACd1N,WAAW,G,EAGb2E,SAAWjF,IAAMkF,Y,EAmBjBpB,aAAe,SAACC,GACd,IAAMC,EAAMD,EAAME,OAAOC,KACnBjD,EAAQ8C,EAAME,OAAOhD,MAC3B,EAAKP,SAAS,CAAEN,KAAK,6BAAM,EAAKD,MAAMC,MAAlB,kBAAyB4D,EAAM/C,O,EAGrDgN,WAAa,WACX,IAAK,IAAMjK,KAAO,EAAK7D,MAAMC,KAC3B,GAAwB,KAApB,EAAKD,MAAM6D,GACb,OAAO,EAGX,OAAO,G,EAGTG,aAAe,SAACJ,GACdA,EAAMK,iBAEN,IAAMe,EAAK,IAAIC,SAEf,IAAK,IAAMpB,KAAO,EAAK7D,MAAMC,KACf,UAAR4D,GACJmB,EAAGE,OAAOrB,EAAK,EAAK7D,MAAMC,KAAK4D,IAG7B,EAAKiB,SAASK,QAAQC,MAAM,IAC9BJ,EAAGE,OAAO,QAAS,EAAKJ,SAASK,QAAQC,MAAM,IAGjD1E,EACcsE,GACXhG,MAAK,SAACL,GACL,EAAKoC,MAAMM,QAAQhB,QAAQ1B,GAAM,WAC/B,EAAKoC,MAAM2H,QAAQC,KAAK,kBAG3BzJ,OAAM,SAACT,GACNG,QAAQC,IAAIJ,O,EAKlB4G,iBAAmB,SAACzB,GAClB,IAAM0B,EAAO1B,EAAME,OAAOsB,MAAM,GAC1BG,EAAMC,IAAIC,gBAAgBH,GAChC,EAAK/E,SAAS,CAAEgF,IAAKA,K,kEA9DF,IAAD,OAClB7E,EACgBE,KAAKG,MAAMM,QAAQpB,KAAKsD,KACrCvE,MAAK,SAACL,GACL,EAAK4B,SAAS,CAAEN,KAAMtB,EAAMwB,WAAW,OAExCjB,OAAM,SAACT,GACN,EAAK8B,SAAS,CACZJ,WAAW,EACX0N,aAAc,CACZE,OAAQ,UACRlD,QAAS,0C,+BAuDjB,OAAKjK,KAAKZ,MAAMC,KAad,0BAAMkE,SAAUvD,KAAKoD,aAActC,UAAU,mBAC3C,kDAEA,yBAAKC,IAAKf,KAAKZ,MAAMuF,IAAK3D,IAAI,KAC9B,6BACE,2BACEsC,SAAUtD,KAAKyE,iBACff,KAAK,OACLoB,IAAK9E,KAAKkE,SACVzF,GAAG,qBAEL,2BAAOsG,QAAQ,oBACb,kBAACC,EAAA,EAAD,CACE9D,MAAOA,GACPc,MAAM,UACNiD,aAAW,iBACXC,UAAU,QAEV,kBAAC,IAAD,CAAaC,SAAS,aAK5B,6BACE,6BACE,2BAAOJ,QAAQ,aAAf,aACA,2BACErB,KAAK,OACLP,KAAK,YACLjD,MAAOF,KAAKZ,MAAMC,KAAKuC,UACvB0B,SAAUtD,KAAK+C,aACftE,GAAG,eAIP,6BACE,2BAAOsG,QAAQ,YAAf,OACA,2BACErB,KAAK,OACLP,KAAK,WACLjD,MAAOF,KAAKZ,MAAMC,KAAK4E,SACvBX,SAAUtD,KAAK+C,aACftE,GAAG,cAIP,6BACE,2BAAOsG,QAAQ,SAAf,SACA,2BACErB,KAAK,QACLP,KAAK,QACLjD,MAAOF,KAAKZ,MAAMC,KAAKwD,MACvBS,SAAUtD,KAAK+C,aACftE,GAAG,YAKT,kBAACgE,EAAA,EAAD,CACEvB,MAAOA,GACPD,QAASjB,KAAKoD,aACdV,QAAQ,YACR0K,SAAUpN,KAAKkN,cAJjB,+BASA,kBAAC,IAAD,CAAMrL,GAAE,mBAAc7B,KAAKG,MAAMM,QAAQpB,KAAKsD,IAAtC,cACN,kBAACF,EAAA,EAAD,CACEvB,MAAOA,GACPwB,QAAQ,YACR0K,SAAUpN,KAAKkN,cAHjB,uCA/EF,6BACE,yBACEnM,IAAI,qBACJC,IAAI,eACJF,UAAU,iB,GAjFGT,cCVnBa,GAAQ,CACZa,WAAY,UACZC,MAAO,SAkGMqL,G,4MA9FbjO,MAAQ,CACNkO,aAAc,GACdC,aAAc,GACdC,mBAAoB,I,EAGtBpK,aAAe,SAACJ,GAGd,GAFAA,EAAMK,iBAEF,EAAKjE,MAAMmO,eAAiB,EAAKnO,MAAMoO,mBAAoB,CAAC,IAAD,EACtB,EAAKpO,MAApCmO,EADqD,EACrDA,aAAcD,EADuC,EACvCA,aACtBxN,EACsB,CAAEyN,eAAcD,iBACnClP,MAAK,SAACL,GACLC,QAAQyP,IAAI1P,GACZC,QAAQC,IAAI,uBAEbK,OAAM,SAACT,GACNG,QAAQC,IAAIJ,Q,EAKpBqP,WAAa,WACX,IAAK,IAAMjK,KAAO,EAAK7D,MAAMC,KAC3B,GAAwB,KAApB,EAAKD,MAAM6D,GACb,OAAO,EAGX,OAAO,G,EAGTF,aAAe,SAACC,GACd,IAAMC,EAAMD,EAAME,OAAOC,KACnBjD,EAAQ8C,EAAME,OAAOhD,MAC3B,EAAKP,SAAL,eAAiBsD,EAAM/C,K,uDAKvB,OADAlC,QAAQC,IAAI,aAEV,0BAAMsF,SAAUvD,KAAKoD,aAActC,UAAU,mBAC3C,yDAEA,6BACE,2BAAOiE,QAAQ,gBAAf,uBACA,2BACEzB,SAAUtD,KAAK+C,aACfW,KAAK,WACLjF,GAAG,eACH0E,KAAK,eACLjD,MAAOF,KAAKZ,MAAMkO,gBAItB,6BACE,2BAAOvI,QAAQ,gBAAf,wBACA,2BACEzB,SAAUtD,KAAK+C,aACfW,KAAK,WACLjF,GAAG,eACH0E,KAAK,eACLjD,MAAOF,KAAKZ,MAAMmO,gBAItB,6BACE,2BAAOxI,QAAQ,sBAAf,kCAGA,2BACEzB,SAAUtD,KAAK+C,aACfW,KAAK,WACLjF,GAAG,qBACH0E,KAAK,qBACLjD,MAAOF,KAAKZ,MAAMoO,sBAItB,6BACE,kBAAC/K,EAAA,EAAD,CACEvB,MAAOA,GACPD,QAASjB,KAAKoD,aACdV,QAAQ,YACR0K,SAAUpN,KAAKkN,cAJjB,qB,GAjFmB7M,aCadqN,GArBD,WACZ,OACE,6BACE,wCACA,6BACA,4BACE,4IAIA,mGAGA,2FACA,2FACA,mF,SCiFOC,I,yDA5Fb,WAAYxN,GAAQ,IAAD,8BACjB,cAAMA,IACDf,MAAQ,CACXwO,OAAQ,GACRnH,QAAS,GACTlH,WAAW,GAEb,EAAKsO,mBAAqB,EAAKA,mBAAmBC,KAAxB,iBAPT,E,+DAgBAC,GAAI,IAAD,OACpB/N,KAAKL,SAAS,CACZiO,OAAQG,EAAE7K,OAAOhD,MACjBX,WAAW,IAIbyO,aAAahO,KAAKiO,WAGlBjO,KAAKiO,UAAYC,YAAW,WAC1B,EAAKC,kBACJ,O,sCAGY,IAAD,OACY,KAAtBnO,KAAKZ,MAAMwO,OAQfrQ,IACGiB,IADH,4DAEyDwB,KAAKZ,MAAMwO,OAFpE,8BAEgGlQ,kGAE7FU,MAAK,SAACN,GACL,EAAK6B,SAAS,CACZ8G,QAAS3I,EAASC,KAAKqQ,SACvB7O,WAAW,OAdfS,KAAKL,SAAS,CACZ8G,QAAS,GACTlH,WAAW,M,wCAiBC8O,GAChBrO,KAAKL,SAAS,CACZiO,OAAQS,EAAMC,WACd7H,QAAS,KAGXzG,KAAKG,MAAMoO,SAASF,K,+BAGZ,IAAD,OACP,OACE,yBAAKvN,UAAU,wBACb,kBAAC0C,EAAA,EAAD,CACE1C,UAAU,QACV4C,KAAK,OACLP,KAAK,WACLT,QAAQ,WACRiB,MAAM,UACNzD,MAAOF,KAAKZ,MAAMwO,OAClBtK,SAAUtD,KAAK6N,qBAEjB,wBAAI/M,UAAU,gCACXd,KAAKZ,MAAMqH,QAAQR,KAAI,SAACoI,GAAD,OACtB,wBACEpL,IAAKoL,EAAM5P,GACXqC,UAAU,6BACVG,QAAS,kBAAM,EAAKuN,kBAAkBH,KAErCA,EAAMC,eAGVtO,KAAKZ,MAAMG,WACV,wBAAIuB,UAAU,8BAAd,oB,GArFuBT,cCL5B,SAASoO,GAAcC,EAAU3Q,EAAM4Q,GAC5C,IACE5Q,GACgB,kBAATA,GACLA,aAAgB6Q,MAChB7Q,aAAgB8Q,KASb,CACL,IAAM3O,EAAgB,MAARnC,EAAe,GAAKA,EAClC2Q,EAASpK,OAAOqK,EAAWzO,QAT3B4O,OAAOC,KAAKhR,GAAMiR,SAAQ,SAAC/L,GACzBwL,GACEC,EACA3Q,EAAKkF,GACL0L,EAAS,UAAMA,EAAN,YAAmB1L,EAAnB,KAA4BA,MCK7C,IAAM/B,GAAQ,CACZa,WAAY,UACZC,MAAO,SAGHiN,G,4MAGJ7P,MAAQ,CACNwC,UAAW,GACXqC,SAAU,GACVrE,YAAa,GACb4M,YAAa,GACbrB,SAAU,GACV/B,MAAO,GACP8C,YAAa,GACbrJ,MAAO,GACPC,SAAU,GACV0H,SAAU,CACRD,YAAa,IAEfW,UAAW,I,EAGbhH,SAAWjF,IAAMkF,Y,EAEjBpB,aAAe,SAACC,GACd,EAAKrD,SAAL,eAAiBqD,EAAME,OAAOC,KAAOH,EAAME,OAAOhD,S,EAGpDgP,YAAc,SAACb,GACb,IAAM7D,EAAW6D,EAAMc,SACvB,EAAKxP,SAAS,CAAE6K,WAAUK,iBAAkBwD,EAAMC,c,EAGpDlL,aAAe,SAACJ,GACdA,EAAMK,iBAEN,IAAMe,EAAK,IAAIC,SAHS,EAIO,EAAKjF,MAJZ,EAIhB8L,UAERuD,GAAcrK,EANU,+BAOxBpG,QAAQC,IAAI6Q,OAAOM,YAAYhL,IAE3B,EAAKF,SAASK,QAAQC,MAAM,KAC9BxG,QAAQC,IAAI,EAAKiG,SAASK,QAAQC,MAAM,IACxCJ,EAAGE,OAAO,YAAa,EAAKJ,SAASK,QAAQC,MAAM,KAGrD1E,EACoBsE,GACjBhG,MAAK,SAACL,GACL,EAAK0C,QAAQhB,QAAQ1B,MAEtBO,OAAM,SAACT,GACNG,QAAQC,IAAIJ,O,EAIlB4G,iBAAmB,SAACzB,GAClB,IAAM0B,EAAO1B,EAAME,OAAOsB,MAAM,GAC1BG,EAAMC,IAAIC,gBAAgBH,GAChC,EAAK/E,SAAS,CAAEgF,IAAKA,K,uDAIrB,OAAI3E,KAAKS,QAAQpB,KACR,kBAAC,IAAD,CAAUwC,GAAG,MAIpB,0BACEyB,SAAUtD,KAAK+C,aACfQ,SAAUvD,KAAKoD,aACftC,UAAU,iBAEV,kBAAC0C,EAAA,EAAD,CACEtC,MAAO,CAAEuC,OAAQ,QACjBf,QAAQ,WACRiB,MAAM,sBACNzD,MAAOF,KAAKZ,MAAMQ,YAClB8D,KAAK,OACLjF,GAAG,cACH0E,KAAK,gBAEP,kBAAC,GAAD,CAAsBA,KAAK,WAAWoL,SAAUvO,KAAKkP,cACrD,kBAAC1L,EAAA,EAAD,CACEtC,MAAO,CAAEuC,OAAQ,QACjBf,QAAQ,WACRiB,MAAM,YACNzD,MAAOF,KAAKZ,MAAMiQ,kBAClB3L,KAAK,OACLjF,GAAG,YACH0E,KAAK,cAEP,kBAACK,EAAA,EAAD,CACEtC,MAAO,CAAEuC,OAAQ,QACjBf,QAAQ,WACRiB,MAAM,iBACNzD,MAAOF,KAAKZ,MAAMkQ,iBAClB5L,KAAK,OACLjF,GAAG,WACH0E,KAAK,aAEP,kBAACK,EAAA,EAAD,CACEtC,MAAO,CAAEuC,OAAQ,QACjBf,QAAQ,WACRiB,MAAM,QACNzD,MAAOF,KAAKZ,MAAMyD,MAClBa,KAAK,QACLjF,GAAG,QACH0E,KAAK,UAEP,kBAACK,EAAA,EAAD,CACEtC,MAAO,CAAEuC,OAAQ,QACjBf,QAAQ,WACRiB,MAAM,eACNzD,MAAOF,KAAKZ,MAAM0D,SAClBY,KAAK,WACLjF,GAAG,WACH0E,KAAK,aAEP,kBAACK,EAAA,EAAD,CACEtC,MAAO,CAAEuC,OAAQ,QACjBf,QAAQ,WACRiB,MAAM,+BACNzD,MAAOF,KAAKZ,MAAMoN,YAClB9I,KAAK,OACLjF,GAAG,cACH0E,KAAK,gBAEP,kBAACK,EAAA,EAAD,CACEtC,MAAO,CAAEuC,OAAQ,QACjBf,QAAQ,WACRiB,MAAM,WACNzD,MAAOF,KAAKZ,MAAM+L,SAClBzH,KAAK,OACLjF,GAAG,WACH0E,KAAK,aAEP,kBAAC2H,GAAA,EAAD,CAAa5J,MAAO,CAAEuC,OAAQ,QAAUf,QAAQ,YAC9C,kBAACqI,GAAA,EAAD,CAAYtM,GAAG,qCAAf,QACA,kBAACuM,GAAA,EAAD,CACE9J,MAAO,CAAEG,MAAO,SAChB5C,GAAG,QACH0E,KAAK,QACLjD,MAAOF,KAAKZ,MAAMgK,MAClBzF,MAAM,OACNL,SAAUtD,KAAK+C,cAEf,kBAACkI,GAAA,EAAD,CAAU/K,MAAM,IACd,sCAEF,kBAAC+K,GAAA,EAAD,CAAU/K,MAAO,cAAjB,YACA,kBAAC+K,GAAA,EAAD,CAAU/K,MAAO,eAAjB,aACA,kBAAC+K,GAAA,EAAD,CAAU/K,MAAO,gBAAjB,cACA,kBAAC+K,GAAA,EAAD,CAAU/K,MAAO,aAAjB,WACA,kBAAC+K,GAAA,EAAD,CAAU/K,MAAO,gBAAjB,gBACA,kBAAC+K,GAAA,EAAD,CAAU/K,MAAO,WAAjB,WACA,kBAAC+K,GAAA,EAAD,CAAU/K,MAAO,WAAjB,aAGJ,kBAACsD,EAAA,EAAD,CACEtC,MAAO,CAAEuC,OAAQ,QACjBf,QAAQ,WACRiB,MAAM,cACNzD,MAAOF,KAAKZ,MAAM8M,YAClBxI,KAAK,OACLjF,GAAG,cACH0E,KAAK,gBAEP,yBAAKpC,IAAKf,KAAKZ,MAAMuF,IAAK3D,IAAI,KAC9B,6BACE,2BACEsC,SAAUtD,KAAKyE,iBACff,KAAK,OACLoB,IAAK9E,KAAKkE,SACVzF,GAAG,qBAEL,2BAAOsG,QAAQ,oBACb,kBAACC,EAAA,EAAD,CACE9D,MAAOA,GACPc,MAAM,UACNiD,aAAW,iBACXC,UAAU,QAEV,kBAAC,IAAD,CAAaC,SAAS,aAI5B,kBAAC1C,EAAA,EAAD,CAAQvB,MAAOA,GAAOwC,KAAK,SAAShB,QAAQ,aAA5C,4B,GAzL0BrC,aAA5B4O,GACGpL,YAAc7E,EAgMR8E,mBAAWmL,IC/MpB/N,GAAQ,CACZa,WAAY,UACZC,MAAO,SAGHY,G,4MAGJxD,MAAQ,CACNyD,MAAO,GACPC,SAAU,I,EAGZC,aAAe,SAACC,GACd,IAAMC,EAAMD,EAAME,OAAOC,KACnBjD,EAAQ8C,EAAME,OAAOhD,MAE3B,EAAKP,SAAL,eAAiBsD,EAAM/C,K,EAGzBkD,aAAe,SAACJ,GACdA,EAAMK,iBAENvD,EACkB,EAAKV,OACpBhB,MAAK,SAACL,GACL,EAAK0C,QAAQhB,QAAQ1B,MAEtBO,OAAM,SAACT,GACNG,QAAQC,IAAIJ,O,uDAMhB,OAAImC,KAAKS,QAAQpB,KACR,kBAAC,IAAD,CAAUwC,GAAG,MAIpB,0BACEf,UAAU,gBACVwC,SAAUtD,KAAK+C,aACfQ,SAAUvD,KAAKoD,cAEf,kBAACI,EAAA,EAAD,CACEtC,MAAO,CAAEuC,OAAQ,QACjBhF,GAAG,uBACHiF,KAAK,QACLP,KAAK,QACLQ,MAAM,QACNjB,QAAQ,aAEV,kBAACc,EAAA,EAAD,CACEtC,MAAO,CAAEuC,OAAQ,QACjBhF,GAAG,0BACHkF,MAAM,eACND,KAAK,WACLP,KAAK,WACLS,aAAa,mBACblB,QAAQ,aAEV,kBAACD,EAAA,EAAD,CAAQvB,MAAOA,GAAOwC,KAAK,SAAShB,QAAQ,aAA5C,qB,GAzDiBrC,aAAnBuC,GACGiB,YAAc7E,EAgER8E,mBAAWlB,ICjEXmB,GATA,SAAC5D,GACd,OACE,6BACE,oFACA,kBAACoP,GAAD,QCMAC,G,4MAGJpQ,MAAQ,CACNiQ,kBAAmB,GACnBC,iBAAkB,GAClB1P,YAAa,GACb4M,YAAa,GACbrB,SAAU,GACV/B,MAAO,GACP8C,YAAa,GACbrJ,MAAO,GACP2H,SAAU,CACRD,YAAa,IAEfM,iBAAkB,I,EAiCpB9H,aAAe,SAACC,GACd,EAAKrD,SAAL,eAAiBqD,EAAME,OAAOC,KAAOH,EAAME,OAAOhD,S,EAGpDgP,YAAc,SAACb,GACb,IAAM7D,EAAW6D,EAAMc,SACvB,EAAKxP,SAAS,CAAE6K,WAAUK,iBAAkBwD,EAAMC,c,EAGpDlL,aAAe,SAACJ,GACdA,EAAMK,iBAENvD,EACkB,EAAKK,MAAMwG,MAAMC,OAAOnI,GAAI,EAAKW,OAChDhB,MAAK,SAACL,GACL,EAAK0C,QAAQhB,QAAQ1B,GACrB,EAAKoC,MAAM2H,QAAQC,KAAK,QAEzBzJ,OAAM,SAACT,GACNG,QAAQC,IAAIJ,O,kEAjDG,IAAD,OAClBiC,EACkBE,KAAKG,MAAMwG,MAAMC,OAAOnI,IACvCL,MAAK,SAACL,GACL,EAAK4B,SAAS,CACZ0P,kBAAmBtR,EAAKsR,kBACxBC,iBAAkBvR,EAAKuR,iBACvB1P,YAAa7B,EAAK6B,YAClB4M,YAAazO,EAAKyO,YAClBrB,SAAUpN,EAAKoN,SACf/B,MAAOrL,EAAKqL,MACZ8C,YAAanO,EAAKmO,YAClBrJ,MAAO9E,EAAK8E,MACZ2H,SAAU,CACRD,YAAaxM,EAAKyM,SAASD,aAE7BM,iBAAkB9M,EAAK8M,sBAG1BvM,OAAM,SAACT,GACN,EAAK8B,SAAS,CACZJ,WAAW,EACX0N,aAAc,CACZE,OAAQ,UACRlD,QAAS,0C,+BA8BjB,OAAKjK,KAAKS,QAAQpB,KAKhB,0BACEiE,SAAUtD,KAAK+C,aACfQ,SAAUvD,KAAKoD,aACftC,UAAU,iBAEV,kBAAC0C,EAAA,EAAD,CACEtC,MAAO,CAAEuC,OAAQ,QACjBf,QAAQ,WACRiB,MAAM,sBACNzD,MAAOF,KAAKZ,MAAMQ,YAClB8D,KAAK,OACLjF,GAAG,cACH0E,KAAK,gBAEP,kBAAC,GAAD,CAAsBA,KAAK,WAAWoL,SAAUvO,KAAKkP,cACrD,kBAAC1L,EAAA,EAAD,CACEtC,MAAO,CAAEuC,OAAQ,QACjBf,QAAQ,WACRiB,MAAM,YACNzD,MAAOF,KAAKZ,MAAMiQ,kBAClB3L,KAAK,OACLjF,GAAG,oBACH0E,KAAK,sBAEP,kBAACK,EAAA,EAAD,CACEtC,MAAO,CAAEuC,OAAQ,QACjBf,QAAQ,WACRiB,MAAM,iBACNzD,MAAOF,KAAKZ,MAAMkQ,iBAClB5L,KAAK,OACLjF,GAAG,mBACH0E,KAAK,qBAEP,kBAACK,EAAA,EAAD,CACEtC,MAAO,CAAEuC,OAAQ,QACjBf,QAAQ,WACRiB,MAAM,QACNzD,MAAOF,KAAKZ,MAAMyD,MAClBa,KAAK,QACLjF,GAAG,QACH0E,KAAK,UAEP,kBAACK,EAAA,EAAD,CACEtC,MAAO,CAAEuC,OAAQ,QACjBf,QAAQ,WACRiB,MAAM,+BACNzD,MAAOF,KAAKZ,MAAMoN,YAClB9I,KAAK,OACLjF,GAAG,cACH0E,KAAK,gBAEP,kBAACK,EAAA,EAAD,CACEtC,MAAO,CAAEuC,OAAQ,QACjBf,QAAQ,WACRiB,MAAM,WACNzD,MAAOF,KAAKZ,MAAM+L,SAClBzH,KAAK,OACLjF,GAAG,WACH0E,KAAK,aAEP,kBAAC2H,GAAA,EAAD,CAAa5J,MAAO,CAAEuC,OAAQ,QAAUf,QAAQ,YAC9C,kBAACqI,GAAA,EAAD,CAAYtM,GAAG,qCAAf,QACA,kBAACuM,GAAA,EAAD,CACE9J,MAAO,CAAEG,MAAO,SAChB5C,GAAG,QACH0E,KAAK,QACLjD,MAAOF,KAAKZ,MAAMgK,MAClBzF,MAAM,OACNL,SAAUtD,KAAK+C,cAEf,kBAACkI,GAAA,EAAD,CAAU/K,MAAM,IACd,sCAEF,kBAAC+K,GAAA,EAAD,CAAU/K,MAAO,YAAjB,YACA,kBAAC+K,GAAA,EAAD,CAAU/K,MAAO,WAAjB,WACA,kBAAC+K,GAAA,EAAD,CAAU/K,MAAO,gBAAjB,kBAGJ,kBAACsD,EAAA,EAAD,CACEtC,MAAO,CAAEuC,OAAQ,QACjBf,QAAQ,WACRiB,MAAM,cACNzD,MAAOF,KAAKZ,MAAM8M,YAClBxI,KAAK,OACLjF,GAAG,cACH0E,KAAK,gBAEP,kBAACV,EAAA,EAAD,CAAQvB,MAAO,CAAEuC,OAAQ,QAAUC,KAAK,SAAShB,QAAQ,aAAzD,oCA3FK,kBAAC,IAAD,CAAUb,GAAG,U,GAzEIxB,aAAxBmP,GACG3L,YAAc7E,EA2KR8E,mBAAW0L,IC/HXC,OAtCf,WACE,OACE,yBAAK3O,UAAU,OACb,kBAAC,EAAD,MACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO4O,OAAK,EAACC,KAAK,IAAIzK,UAAW0K,IACjC,kBAAC,IAAD,CAAOF,OAAK,EAACC,KAAK,UAAUzK,UAAWnB,IACvC,kBAAC,IAAD,CAAO2L,OAAK,EAACC,KAAK,oBAAoBzK,UAAW2K,KACjD,kBAAC,IAAD,CAAOH,OAAK,EAACC,KAAK,UAAUzK,UAAWE,IACvC,kBAAC,IAAD,CAAOsK,OAAK,EAACC,KAAK,aAAazK,UAAW6D,KAC1C,kBAAC,IAAD,CACE2G,OAAK,EACLC,KAAK,sBACLzK,UAAW+J,KAEb,kBAAC,IAAD,CAAOS,OAAK,EAACC,KAAK,YAAYzK,UAAWmB,KACzC,kBAAC,IAAD,CAAOqJ,OAAK,EAACC,KAAK,sBAAsBzK,UAAW8B,KAEnD,kBAAC,IAAD,CAAO0I,OAAK,EAACC,KAAK,gBAAgBzK,UAAWwB,KAC7C,kBAAC,IAAD,CAAOgJ,OAAK,EAACC,KAAK,sBAAsBzK,UAAW4K,KACnD,kBAAC,IAAD,CACEJ,OAAK,EACLC,KAAK,iBACLzK,UAAW6K,KAEb,kBAAC,GAAD,CAAgBL,OAAK,EAACC,KAAK,WAAWzK,UAAW8K,KACjD,kBAAC,GAAD,CAAgBN,OAAK,EAACC,KAAK,eAAezK,UAAW+K,KACrD,kBAAC,GAAD,CACEP,OAAK,EACLC,KAAK,wBACLzK,UAAWmI,KAEb,kBAAC,IAAD,CAAOqC,OAAK,EAACC,KAAK,SAASzK,UAAWwI,Q,cC3C9CwC,IAASlD,OACP,kBAAC,IAAD,KACE,kBAAC,EAAD,KACE,kBAAC,GAAD,QAGJ/K,SAASkO,eAAe,U","file":"static/js/main.2d75b42e.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst service = axios.create({\n  baseURL: process.env.REACT_APP_BACKEND_URL,\n  withCredentials: true, // Cookie is sent to client when using this service. (used for session)\n});\n\nfunction errorHandler(error) {\n  if (error.response.data) {\n    console.log(error.response && error.response.data);\n    throw error;\n  }\n  throw error;\n}\n\nexport default {\n  service,\n\n  signup(userInfo) {\n    return service\n      .post(\"/api/auth/signup\", userInfo)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  registerProducer(companyInfo) {\n    return service\n      .post(\"/api/companies/signup\", companyInfo)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getProducers() {\n    return service\n      .get(\"/api/companies/\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  updateProducer(id, body) {\n    return service\n      .patch(\"/api/companies/edit/\" + id, body)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getOneProducer(id) {\n    return service\n      .get(\"/api/companies/\" + id)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getComments(id) {\n    return service\n      .get(\"/api/comments/\" + id)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  postComment(comment) {\n    return service\n      .post(\"/api/comments/\", comment)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  signin(userInfo) {\n    return service\n      .post(\"/api/auth/signin\", userInfo)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  signinProducer(producerInfo) {\n    return service\n      .post(\"/api/companies/signin\", producerInfo)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  isLoggedIn() {\n    return service\n      .get(\"/api/auth/isLoggedIn\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  logout() {\n    return service\n      .get(\"/api/auth/logout\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getItems() {\n    return service\n      .get(\"/api/items\")\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  updateUser(data) {\n    return service\n      .patch(\"/api/users/me\", data)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  updateUserPassword(data) {\n    return service\n      .patch(\"/api/auth/me/password\", data)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n\n  getUserInfos(userId) {\n    return service\n      .get(`/api/users/${userId}`)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n  createRecipe(datas) {\n    return service\n      .post(\"/api/products/simulator\", datas)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n  getResult(id) {\n    return service\n      .get(`api/products/simulator/result/${id}`)\n      .then((res) => res.data)\n      .catch(errorHandler);\n  },\n};\n","import React from \"react\";\n\nexport const UserContext = React.createContext();\n","import React, { Component } from \"react\";\nimport apiHandler from \"../../api/apiHandler\";\nimport { UserContext } from \"./UserContext\";\n\nclass UserProvider extends Component {\n  state = {\n    user: null,\n    isLoggedIn: false,\n    isLoading: true,\n    producer: false,\n  };\n\n  componentDidMount() {\n    apiHandler\n      .isLoggedIn()\n      .then((data) => {\n        if (data.companyName) {\n          this.setState({\n            user: data,\n            isLoggedIn: true,\n            isLoading: false,\n            producer: true,\n          });\n        } else {\n          this.setState({\n            user: data,\n            isLoggedIn: true,\n            isLoading: false,\n            producer: false,\n          });\n        }\n      })\n      .catch((error) => {\n        this.setState({\n          user: null,\n          isLoggedIn: false,\n          isLoading: false,\n          producer: false,\n        });\n      });\n  }\n\n  setUser = (user, cb) => {\n    this.setState(\n      { user, isLoggedIn: true, producer: user.companyName ? true : false },\n      () => {\n        cb && cb();\n      }\n    );\n  };\n\n  removeUser = () => {\n    this.setState({ user: null, isLoggedIn: false, producer: false });\n  };\n\n  render() {\n    //  Setup all the values/functions you want to expose to anybody reading\n    // from the AuthContext.\n    const authValues = {\n      user: this.state.user,\n      setUser: this.setUser,\n      removeUser: this.removeUser,\n      isLoggedIn: this.state.isLoggedIn,\n      isLoading: this.state.isLoading,\n      producer: this.state.producer,\n    };\n\n    return (\n      <UserContext.Provider value={authValues}>\n        {this.props.children}\n      </UserContext.Provider>\n    );\n  }\n}\n\nexport default UserProvider;\n","import React from \"react\";\nimport { UserContext } from \"./UserContext\";\n\n// This is what we call a HOC (Higher Order Component).\n// It takes a component as a parameter and it returns a component.\n// This technique can be used to abstract some logic in order to pass\n// some data down as props to the component sent as parameter.\n\n// The use case of this one is to make it easy to access the user context to\n// any component in our app.\n\n/* ******************************************************** */\n\n//  How to use:  =>\n// YourComponent.jsx\n// import React from \"react\"\n// function or class YourComponent()\n//\n// ... your implementation.\n//\n// export default withUser(YourComponent)\n// ----------------^ your component now has access to the user context defined in UserProvider.jsx.\n\n// This component is not exported as default, so you have to import it\n// this way :\n// import { withUser } from \"../relative/path/to/this/file\"\n\nexport const withUser = (ComponentToPassUserContextTo) => {\n  return function (props) {\n    return (\n      <UserContext.Consumer>\n        {(context) => (\n          <ComponentToPassUserContextTo {...props} context={context} />\n        )}\n      </UserContext.Consumer>\n    );\n  };\n};\n","import React from \"react\";\nimport { Link, NavLink } from \"react-router-dom\";\nimport { withUser } from \"../components/Auth/withUser\";\nimport apiHandler from \"../api/apiHandler\";\n\nimport \"../styles/NavMain.css\";\n\nexport class NavMain extends React.Component {\n  state = {\n    user: null,\n    active: true,\n  };\n\n  handleLogout = () => {\n    apiHandler\n      .logout()\n      .then(() => {\n        this.props.context.removeUser();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  toggleClass = () => {\n    const currentState = this.state.active;\n    this.setState({ active: !currentState });\n  };\n\n  render() {\n    return (\n      <nav className=\"NavMain\">\n        <img\n          className=\"burger-icon\"\n          src=\"/media/burger-icon.png\"\n          alt=\"burger menu\"\n          onClick={this.toggleClass}\n        />\n        <div className={this.state.active ? \"hidden\" : null}>\n          <div className=\"lateral-menu\">\n            <div className=\"cross\" onClick={this.toggleClass}>\n              <img src=\"/media/cross.png\" alt=\"\" />\n            </div>\n            <div>\n              {!this.props.context.user ? (\n                <h4>Bonjour</h4>\n              ) : (\n                <div className=\"hello\">\n                  {\" \"}\n                  <div\n                    style={{\n                      borderRadius: \"50%\",\n                      height: \"75px\",\n                      width: \"75px\",\n                      backgroundImage: `url(${this.props.context.user.image})`,\n                      backgroundPosition: \"center\",\n                      backgroundSize: \"cover\",\n                      backgroundRepeat: \"no-repeat\",\n                      marginBottom: \"5px\",\n                    }}\n                  ></div>\n                  <h4>Bonjour {this.props.context.user.firstName}</h4>\n                </div>\n              )}\n            </div>\n\n            <nav>\n              <Link to=\"/\" className=\"lateral-link\" onClick={this.toggleClass}>\n                Accueil\n              </Link>\n              <hr />\n              <Link\n                to=\"/products\"\n                className=\"lateral-link\"\n                onClick={this.toggleClass}\n              >\n                Produits\n              </Link>\n              <hr />\n              <Link\n                to=\"/products/simulator\"\n                className=\"lateral-link\"\n                onClick={this.toggleClass}\n              >\n                Simulateur\n              </Link>\n              <hr />\n              <Link\n                to=\"/producers\"\n                className=\"lateral-link\"\n                onClick={this.toggleClass}\n              >\n                Producteurs\n              </Link>\n              <hr />\n              <Link\n                to=\"/profile\"\n                className=\"lateral-link\"\n                onClick={this.toggleClass}\n              >\n                Mon profil\n              </Link>\n              <hr />\n              <Link\n                to=\"/about\"\n                className=\"lateral-link\"\n                onClick={this.toggleClass}\n              >\n                À propos\n              </Link>\n            </nav>\n            <div className=\"login-logout\">\n              {!this.props.context.user ? (\n                <Link to=\"/signin\" onClick={this.toggleClass} className=\"login\">\n                  <img src=\"/media/log-in.png\" alt=\"login image\" />\n                  <p>Me connecter</p>\n                </Link>\n              ) : (\n                <div\n                  className=\"logout\"\n                  onClick={() => {\n                    this.handleLogout();\n                    this.toggleClass();\n                  }}\n                >\n                  <img src=\"/media/logout.png\" alt=\"logout icon\" />\n                  <p>Se déconnecter</p>\n                </div>\n              )}\n            </div>\n          </div>\n          <div className=\"opacity\"></div>\n        </div>\n        <NavLink to=\"/\">\n          <h3 className=\"logo\">What the Earth</h3>\n        </NavLink>\n      </nav>\n    );\n  }\n}\n\nexport default withUser(NavMain);\n","import React from \"react\";\n\nconst Footer = () => {\n  return (\n    <footer>\n      <p>© 2021 What the Earth</p>\n    </footer>\n  );\n};\n\nexport default Footer;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Button from \"@material-ui/core/Button\";\nimport { withUser } from \"../components/Auth/withUser\";\nimport apiHandler from \"../api/apiHandler\";\nimport Footer from \"../components/Footer\";\n\nconst style = {\n  background: \"#87a878\",\n  color: \"white\",\n};\n\nclass Home extends React.Component {\n  componentDidMount() {\n    document.title = \"What the Earth — Accueil\";\n  }\n\n  handleLogout = () => {\n    apiHandler\n      .logout()\n      .then(() => {\n        this.props.context.removeUser();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  render() {\n    return (\n      <div className=\"center-column\">\n        <div style={{ position: \"relative\" }}>\n          <img\n            style={{ filter: \"brightness(60%)\" }}\n            src=\"/media/grass-cover.jpg\"\n            alt=\"What the Earth\"\n          />\n          <p\n            style={{\n              padding: \"10px\",\n              color: \"white\",\n              textAlign: \"center\",\n              position: \"absolute\",\n              top: \"calc(50% - 46px)\",\n              left: \"calc(50% - 175px)\",\n              width: \"350px\",\n            }}\n          >\n            Bienvenue sur What the Earth, base de données interactive super\n            géniale. Pour en savoir plus sur notre projet,{\" \"}\n            <Link className=\"link-underlined\" to=\"/\">\n              cliquez ici\n            </Link>\n            .\n          </p>\n        </div>\n\n        <Link to=\"/products\">\n          <Button style={style} variant=\"contained\">\n            Liste des produits\n          </Button>\n        </Link>\n        <Link to=\"/producers\">\n          <Button style={style} variant=\"contained\">\n            Chercher un producteur\n          </Button>\n        </Link>\n        {!this.props.context.user && (\n          <div className=\"center-column\">\n            <h5>Je suis un particulier</h5>\n            <Link className=\"link-underlined\" to=\"/signup\">\n              Créer un compte\n            </Link>\n            <Link className=\"link-underlined\" to=\"/signin\">\n              Me connecter\n            </Link>\n            <h5>Je suis un professionnel</h5>\n            <Link className=\"link-underlined\" to=\"/producers/register\">\n              Enregistrer mon commerce\n            </Link>\n            <Link className=\"link-underlined\" to=\"/producers/signin\">\n              J'accède à mon espace\n            </Link>\n          </div>\n        )}\n\n        {this.props.context.user && !this.props.context.producer ? (\n          <div className=\"center-column\">\n            <Link className=\"link-underlined\" to=\"/profile\">\n              Mon compte\n            </Link>\n            <p onClick={this.handleLogout} className=\"link-underlined\">\n              Se déconnecter\n            </p>\n          </div>\n        ) : null}\n\n        {this.props.context.producer && (\n          <div className=\"center-column\">\n            <p>{this.props.context.user.companyName}</p>\n            <Link\n              className=\"link-underlined\"\n              to={`/producers/edit/${this.props.context.user._id}`}\n            >\n              Editer ma page entreprise\n            </Link>\n            <p onClick={this.handleLogout} className=\"link-underlined\">\n              Se déconnecter\n            </p>\n          </div>\n        )}\n        <Footer />\n      </div>\n    );\n  }\n}\n\nexport default withUser(Home);\n","import React, { Component } from \"react\";\nimport { UserContext } from \"../Auth/UserContext\";\nimport { withRouter, Redirect } from \"react-router-dom\";\nimport apiHandler from \"../../api/apiHandler\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\n\nconst style = {\n  background: \"#87a878\",\n  color: \"white\",\n};\n\nclass FormSignin extends Component {\n  static contextType = UserContext;\n\n  state = {\n    email: \"\",\n    password: \"\",\n  };\n\n  handleChange = (event) => {\n    const key = event.target.name;\n    const value = event.target.value;\n\n    this.setState({ [key]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    apiHandler\n      .signin(this.state)\n      .then((data) => {\n        this.context.setUser(data);\n      })\n      .catch((error) => {\n        console.log(error);\n        // Display error message here, if you set the state\n      });\n  };\n\n  render() {\n    if (this.context.user) {\n      return <Redirect to=\"/\" />;\n    }\n\n    return (\n      <form\n        className=\"center-column\"\n        onChange={this.handleChange}\n        onSubmit={this.handleSubmit}\n      >\n        <TextField\n          style={{ margin: \"10px\" }}\n          id=\"outlined-email-input\"\n          type=\"email\"\n          name=\"email\"\n          label=\"Email\"\n          variant=\"outlined\"\n        />\n        <TextField\n          style={{ margin: \"10px\" }}\n          id=\"outlined-password-input\"\n          label=\"Mot de passe\"\n          type=\"password\"\n          name=\"password\"\n          autoComplete=\"current-password\"\n          variant=\"outlined\"\n        />\n        <Button style={style} type=\"submit\" variant=\"contained\">\n          Se connecter\n        </Button>\n      </form>\n    );\n  }\n}\n\nexport default withRouter(FormSignin);\n","import React from \"react\";\nimport FormSignin from \"../components/Forms/FormSignin\";\n\nconst Signin = (props) => {\n  return (\n    <div className=\"center-column\">\n      <img\n        style={{ width: \"50px\" }}\n        src=\"/wheat.png\"\n        alt=\"Logo What the Earth\"\n      />\n      <h1>Connectez-vous à votre espace utlisateur What the Earth.</h1>\n      <FormSignin />\n    </div>\n  );\n};\n\nexport default Signin;\n","import React, { Component } from \"react\";\nimport { withRouter, Redirect } from \"react-router-dom\";\nimport { UserContext } from \"../Auth/UserContext\";\nimport apiHandler from \"../../api/apiHandler\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\";\n\nconst style = {\n  background: \"#87a878\",\n  color: \"white\",\n};\n\nclass FormSignup extends Component {\n  static contextType = UserContext;\n\n  state = {\n    image: \"\",\n    email: \"\",\n    password: \"\",\n    firstName: \"\",\n    lastName: \"\",\n  };\n\n  imageRef = React.createRef();\n\n  handleChange = (event) => {\n    const value = event.target.value;\n    const key = event.target.name;\n\n    this.setState({ [key]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    const fd = new FormData();\n\n    for (const key in this.state) {\n      if (key === \"image\") continue;\n      fd.append(key, this.state[key]);\n    }\n\n    if (this.imageRef.current.files[0]) {\n      console.log(this.imageRef.current.files[0]);\n      fd.append(\"image\", this.imageRef.current.files[0]);\n    }\n\n    apiHandler\n      .signup(fd)\n      .then((data) => {\n        this.context.setUser(data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  //to add a preview of the uploaded image before saving\n  handleFileSelect = (event) => {\n    const file = event.target.files[0];\n    const url = URL.createObjectURL(file);\n    this.setState({ url: url });\n  };\n\n  render() {\n    if (this.context.user) {\n      return <Redirect to=\"/\" />;\n    }\n\n    return (\n      <form\n        className=\"center-column\"\n        onChange={this.handleChange}\n        onSubmit={this.handleSubmit}\n      >\n        <img src={this.state.url} alt=\"\" />\n        <div>\n          <input\n            onChange={this.handleFileSelect}\n            type=\"file\"\n            ref={this.imageRef}\n            id=\"icon-button-file\"\n          />\n          <label htmlFor=\"icon-button-file\">\n            <IconButton\n              style={style}\n              color=\"primary\"\n              aria-label=\"upload picture\"\n              component=\"span\"\n            >\n              <PhotoCamera fontSize=\"large\" />\n            </IconButton>\n          </label>\n        </div>\n\n        <TextField\n          value={this.state.firstName}\n          label=\"Prénom\"\n          type=\"text\"\n          id=\"firstName\"\n          name=\"firstName\"\n          variant=\"outlined\"\n          style={{ margin: \"10px\" }}\n        />\n        <TextField\n          value={this.state.lastName}\n          label=\"Nom de famille\"\n          type=\"text\"\n          id=\"lastName\"\n          name=\"lastName\"\n          variant=\"outlined\"\n          style={{ margin: \"10px\" }}\n        />\n        <TextField\n          value={this.state.email}\n          label=\"Email\"\n          type=\"email\"\n          id=\"email\"\n          name=\"email\"\n          variant=\"outlined\"\n          style={{ margin: \"10px\" }}\n        />\n        <TextField\n          value={this.state.password}\n          label=\"Mot de passe\"\n          type=\"password\"\n          id=\"password\"\n          name=\"password\"\n          variant=\"outlined\"\n          style={{ margin: \"10px\" }}\n        />\n        <Button style={style} type=\"submit\" variant=\"contained\">\n          S'inscrire\n        </Button>\n      </form>\n    );\n  }\n}\n\nexport default withRouter(FormSignup);\n","import React from \"react\";\nimport FormSignup from \"../components/Forms/FormSignup\";\n\nconst Signup = (props) => {\n  return <FormSignup />;\n};\n\nexport default Signup;\n","import React, { Component } from \"react\";\n\nexport class SearchBar extends Component {\n  render() {\n    return (\n      <form className=\"form\">\n        <input\n          className=\"search\"\n          name=\"search\"\n          type=\"search\"\n          placeholder=\"Crème de marrons\"\n          onChange={this.props.handleSearch}\n        />\n      </form>\n    );\n  }\n}\n\nexport default SearchBar;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport SearchBar from \"../../components/SearchBar\";\n\nexport class ProductsList extends React.Component {\n  state = {\n    products: this.props.products,\n    filteredProducts: this.props.products,\n  };\n\n  handleSearch = (event) => {\n    this.setState({\n      filteredProducts: this.state.products.filter((product) =>\n        product.Nom_du_Produit_en_Français.toLowerCase()\n          .normalize(\"NFD\")\n          .replace(/[\\u0300-\\u036f]/g, \"\")\n          .includes(\n            event.target.value\n              .toLowerCase()\n              .normalize(\"NFD\")\n              .replace(/[\\u0300-\\u036f]/g, \"\")\n          )\n      ),\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <SearchBar handleSearch={this.handleSearch} />\n        {this.state.filteredProducts.map((product) => {\n          return (\n            <div key={product._id}>\n              <Link to={`/products/${product._id}`}>\n                <h3>{product.Nom_du_Produit_en_Français}</h3>\n              </Link>\n              <p>\n                Score PEF :\n                <span\n                  style={{\n                    color: this.props.coloredNumber(\n                      product[\"Score_unique_EF_(mPt/kg_de_produit)\"]\n                    ),\n                    fontWeight: \"bold\",\n                  }}\n                >\n                  {this.props.roundNumber(\n                    product[\"Score_unique_EF_(mPt/kg_de_produit)\"]\n                  )}\n                </span>\n              </p>\n              <hr />\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nexport default ProductsList;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport ProductsList from \"./ProductsList\";\n\nimport \"../../styles/Products.css\";\n\nexport class Products extends Component {\n  state = {\n    products: null,\n  };\n\n  componentDidMount() {\n    axios\n      .get(\n        \"https://koumoul.com/s/data-fair/api/v1/datasets/agribalyse-synthese/lines?page=1&format=json&q_mode=simple&sort=Nom_du_Produit_en_Fran%C3%A7ais&size=2479&select=Nom_du_Produit_en_Fran%C3%A7ais,LCI_Name,Livraison,Mat%C3%A9riau_d%27emballage,Pr%C3%A9paration,DQR_-_Note_de_qualit%C3%A9_de_la_donn%C3%A9e_%281_excellente___5_tr%C3%A8s_faible%29,Score_unique_EF_%28mPt%2Fkg_de_produit%29,Changement_climatique_%28kg_CO2_eq%2Fkg_de_produit%29,Appauvrissement_de_la_couche_d%27ozone_%28E-06_kg_CVC11_eq%2Fkg_de_produit%29,Rayonnements_ionisants_%28kBq_U-235_eq%2Fkg_de_produit%29,Formation_photochimique_d%27ozone_%28E-03_kg_NMVOC_eq%2Fkg_de_produit%29,Particules_%28E-06_disease_inc_%2Fkg_de_produit%29,Acidification_terrestre_et_eaux_douces_%28mol_H%2B_eq%2Fkg_de_produit%29,Eutrophisation_terreste_%28mol_N_eq%2Fkg_de_produit%29,Eutrophisation_eaux_douces_%28E-03_kg_P_eq%2Fkg_de_produit%29,Eutrophisation_marine_%28E-03_kg_N_eq%2Fkg_de_produit%29,Utilisation_du_sol_%28Pt%2Fkg_de_produit%29,%C3%89cotoxicit%C3%A9_pour_%C3%A9cosyst%C3%A8mes_aquatiques_d%27eau_douce_%28CTUe%2Fkg_de_produit%29,%C3%89puisement_des_ressources_eau_%28m3_depriv_%2Fkg_de_produit%29,%C3%89puisement_des_ressources_%C3%A9nerg%C3%A9tiques_%28MJ%2Fkg_de_produit%29,%C3%89puisement_des_ressources_min%C3%A9raux_%28E-06_kg_Sb_eq%2Fkg_de_produit%29,Saisonnalit%C3%A9,Transport_par_avion_%281___par_avion%29,_id&sampling=max\"\n      )\n      .then((responseFromApi) => {\n        // setTimeout(() => {\n        this.setState({\n          products: responseFromApi.data.results,\n        });\n        // }, 2300);\n      });\n  }\n\n  roundNumber = (number) => {\n    return number.toFixed([2]);\n  };\n\n  coloredNumber = (number) => {\n    if (number < 0.5) return \"green\";\n    else if (number >= 0.5 && number < 1.5) return \"orange\";\n    else return \"red\";\n  };\n\n  render() {\n    if (!this.state.products) {\n      return (\n        <div>\n          <h1>Tous les produits</h1>\n          <img\n            src=\"/media/loading.gif\"\n            alt=\"loading icon\"\n            className=\"loading\"\n          />\n        </div>\n      );\n    }\n    return (\n      <div className=\"allProducts\">\n        <h1>Tous les produits</h1>\n        <ProductsList\n          products={this.state.products}\n          handleSearch={this.handleSearch}\n          coloredNumber={this.coloredNumber}\n          roundNumber={this.roundNumber}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Products;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\n\nexport class ProductPage extends Component {\n  state = {\n    product: null,\n  };\n\n  componentDidMount() {\n    axios\n      .get(\n        `https://koumoul.com/s/data-fair/api/v1/datasets/agribalyse-synthese/lines?page=1&format=json&q_mode=simple&qs=${this.props.match.params.id}&size=20&select=Code_AGB,Code_CIQUAL,Groupe_d%27aliment,Sous-groupe_d%27aliment,Nom_du_Produit_en_Fran%C3%A7ais,LCI_Name,Livraison,Mat%C3%A9riau_d%27emballage,Pr%C3%A9paration,DQR_-_Note_de_qualit%C3%A9_de_la_donn%C3%A9e_%281_excellente___5_tr%C3%A8s_faible%29,Score_unique_EF_%28mPt%2Fkg_de_produit%29,Changement_climatique_%28kg_CO2_eq%2Fkg_de_produit%29,Appauvrissement_de_la_couche_d%27ozone_%28E-06_kg_CVC11_eq%2Fkg_de_produit%29,Rayonnements_ionisants_%28kBq_U-235_eq%2Fkg_de_produit%29,Formation_photochimique_d%27ozone_%28E-03_kg_NMVOC_eq%2Fkg_de_produit%29,Particules_%28E-06_disease_inc_%2Fkg_de_produit%29,Acidification_terrestre_et_eaux_douces_%28mol_H%2B_eq%2Fkg_de_produit%29,Eutrophisation_terreste_%28mol_N_eq%2Fkg_de_produit%29,Eutrophisation_eaux_douces_%28E-03_kg_P_eq%2Fkg_de_produit%29,Eutrophisation_marine_%28E-03_kg_N_eq%2Fkg_de_produit%29,Utilisation_du_sol_%28Pt%2Fkg_de_produit%29,%C3%89cotoxicit%C3%A9_pour_%C3%A9cosyst%C3%A8mes_aquatiques_d%27eau_douce_%28CTUe%2Fkg_de_produit%29,%C3%89puisement_des_ressources_eau_%28m3_depriv_%2Fkg_de_produit%29,%C3%89puisement_des_ressources_%C3%A9nerg%C3%A9tiques_%28MJ%2Fkg_de_produit%29,%C3%89puisement_des_ressources_min%C3%A9raux_%28E-06_kg_Sb_eq%2Fkg_de_produit%29,Saisonnalit%C3%A9,Transport_par_avion_%281___par_avion%29,_id,_i,_rand&highlight=_id&sampling=neighbors`\n      )\n      .then((responseFromApi) => {\n        this.setState({\n          product: responseFromApi.data.results[0],\n        });\n      });\n  }\n\n  roundNumber = (number) => {\n    return number.toFixed([2]);\n  };\n\n  coloredNumber = (number) => {\n    if (number < 0.5) return \"green\";\n    else if (number >= 0.5 && number < 1.5) return \"orange\";\n    else return \"red\";\n  };\n\n  render() {\n    if (!this.state.product) {\n      return (\n        <img src=\"/media/loading.gif\" alt=\"loading icon\" className=\"loading\" />\n      );\n    }\n\n    return (\n      <div>\n        <h1>{this.state.product.Nom_du_Produit_en_Français}</h1>\n        <h5>Catégorie: {this.state.product[\"Sous-groupe_d'aliment\"]}</h5>\n        <h3>\n          {\" \"}\n          Score EPF:{\" \"}\n          <span\n            style={{\n              color: this.coloredNumber(\n                this.state.product[\"Score_unique_EF_(mPt/kg_de_produit)\"]\n              ),\n              fontWeight: \"bold\",\n            }}\n          >\n            {this.roundNumber(\n              this.state.product[\"Score_unique_EF_(mPt/kg_de_produit)\"]\n            )}\n          </span>\n        </h3>\n        <div></div>\n        <table>\n          <thead>\n            <tr>\n              <th>Indicateur</th>\n              <th>Mesure</th>\n              <th>Unité</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>Score unique EF</td>\n              <td>\n                {this.roundNumber(\n                  this.state.product[\"Score_unique_EF_(mPt/kg_de_produit)\"]\n                )}\n              </td>\n              <td>mPt/kg de produit</td>\n            </tr>\n            <tr>\n              <td>Changement climatique</td>\n              <td>\n                {this.roundNumber(\n                  this.state.product[\n                    \"Changement_climatique_(kg_CO2_eq/kg_de_produit)\"\n                  ]\n                )}\n              </td>\n              <td>kg CO2 eq/kg de produit</td>\n            </tr>\n            <tr>\n              <td>Appauvrissement de la couche d'ozone</td>\n              <td>\n                {this.roundNumber(\n                  this.state.product[\n                    \"Appauvrissement_de_la_couche_d'ozone_(E-06_kg_CVC11_eq/kg_de_produit)\"\n                  ]\n                )}\n              </td>\n              <td>E-06 kg CVC11 eq/kg de produit</td>\n            </tr>\n            <tr>\n              <td>Rayonnements ionisants</td>\n              <td>\n                {this.roundNumber(\n                  this.state.product[\n                    \"Rayonnements_ionisants_(kBq_U-235_eq/kg_de_produit)\"\n                  ]\n                )}\n              </td>\n              <td>kBq U-235 eq/kg de produit</td>\n            </tr>\n            <tr>\n              <td>Formation photochimique d'ozone</td>\n              <td>\n                {this.roundNumber(\n                  this.state.product[\n                    \"Formation_photochimique_d'ozone_(E-03_kg_NMVOC_eq/kg_de_produit)\"\n                  ]\n                )}\n              </td>\n              <td>E-03 kg NMVOC eq/kg de produit</td>\n            </tr>\n            <tr>\n              <td>Particules</td>\n              <td>\n                {this.roundNumber(\n                  this.state.product[\n                    \"Particules_(E-06_disease_inc_/kg_de_produit)\"\n                  ]\n                )}\n              </td>\n              <td>E-06 disease inc./kg de produit</td>\n            </tr>\n            <tr>\n              <td>Acidification terrestre et eaux douces</td>\n              <td>\n                {this.roundNumber(\n                  this.state.product[\n                    \"Acidification_terrestre_et_eaux_douces_(mol_H+_eq/kg_de_produit)\"\n                  ]\n                )}\n              </td>\n              <td>mol H+ eq/kg de produit</td>\n            </tr>\n            <tr>\n              <td>Eutrophisation terreste</td>\n              <td>\n                {this.roundNumber(\n                  this.state.product[\n                    \"Eutrophisation_terreste_(mol_N_eq/kg_de_produit)\"\n                  ]\n                )}\n              </td>\n              <td>mol N eq/kg de produit</td>\n            </tr>\n            <tr>\n              <td>Eutrophisation eaux douces</td>\n              <td>\n                {this.roundNumber(\n                  this.state.product[\n                    \"Eutrophisation_eaux_douces_(E-03_kg_P_eq/kg_de_produit)\"\n                  ]\n                )}\n              </td>\n              <td>E-03 kg P eq/kg de produit</td>\n            </tr>\n            <tr>\n              <td>Eutrophisation marine</td>\n              <td>\n                {this.roundNumber(\n                  this.state.product[\n                    \"Eutrophisation_marine_(E-03_kg_N_eq/kg_de_produit)\"\n                  ]\n                )}\n              </td>\n              <td>E-03 kg N eq/kg de produit</td>\n            </tr>\n            <tr>\n              <td>Utilisation du sol</td>\n              <td>\n                {this.roundNumber(\n                  this.state.product[\"Utilisation_du_sol_(Pt/kg_de_produit)\"]\n                )}\n              </td>\n              <td>Pt/kg de produit</td>\n            </tr>\n            <tr>\n              <td>Écotoxicité pour écosystèmes aquatiques d'eau douce</td>\n              <td>\n                {this.roundNumber(\n                  this.state.product[\n                    \"Écotoxicité_pour_écosystèmes_aquatiques_d'eau_douce_(CTUe/kg_de_produit)\"\n                  ]\n                )}\n              </td>\n              <td>CTUe/kg de produit</td>\n            </tr>\n            <tr>\n              <td>Épuisement des ressources eau</td>\n              <td>\n                {this.roundNumber(\n                  this.state.product[\n                    \"Épuisement_des_ressources_eau_(m3_depriv_/kg_de_produit)\"\n                  ]\n                )}\n              </td>\n              <td>m3 depriv./kg de produit</td>\n            </tr>\n            <tr>\n              <td>Épuisement des ressources énergétiques</td>\n              <td>\n                {this.roundNumber(\n                  this.state.product[\n                    \"Épuisement_des_ressources_énergétiques_(MJ/kg_de_produit)\"\n                  ]\n                )}\n              </td>\n              <td>MJ/kg de produit</td>\n            </tr>\n            <tr>\n              <td>Épuisement des ressources minéraux</td>\n              <td>\n                {this.roundNumber(\n                  this.state.product[\n                    \"Épuisement_des_ressources_minéraux_(E-06_kg_Sb_eq/kg_de_produit)\"\n                  ]\n                )}\n              </td>\n              <td>E-06 kg Sb eq/kg de produit</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nexport default ProductPage;\n","import React, { Component } from \"react\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\nimport { TextField } from \"@material-ui/core\";\nimport apiHandler from \"../../api/apiHandler\";\nimport AgribalyseSorted from \"../../data/AgribalyseSorted.json\";\nimport Button from \"@material-ui/core/Button\";\nimport { Link } from \"react-router-dom\";\nimport \"../../styles/Simulator.css\";\n\nconst style = {\n  background: \"#87a878\",\n  color: \"white\",\n};\n\nconst filterOptions = createFilterOptions({\n  limit: 50,\n});\n\nexport class Simulator extends Component {\n  state = {\n    selectedProducts: [],\n    total: 100,\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n  };\n\n  onProductChange = (value) => {\n    if (value === null) return;\n    value.qty = Math.trunc(100 / (this.state.selectedProducts.length + 1));\n    this.setState({\n      selectedProducts: [\n        ...this.state.selectedProducts.map((p) => ({\n          ...p,\n          qty: Math.trunc(100 / (this.state.selectedProducts.length + 1)),\n        })),\n        value,\n      ],\n    });\n  };\n\n  deleteProduct = (name) => {\n    this.setState({\n      selectedProducts: [\n        ...this.state.selectedProducts.filter(\n          (product) => product.nom_francais !== name\n        ),\n      ],\n    });\n  };\n\n  handleValue = (value, name) => {\n    // const foundIndex = this.state.selectedProducts.findIndex(\n    //   (product) => product.nom_francais === name\n    // );\n    // const copy = { ...this.state.selectedProducts[foundIndex] };\n    // copy.qty = value;\n    // const copyArr = [...this.state.selectedProducts];\n    // copyArr[foundIndex] = copy;\n    this.setState({\n      selectedProducts: this.state.selectedProducts.map((prod) => {\n        return prod.nom_francais === name ? { ...prod, qty: value } : prod;\n      }),\n    });\n  };\n\n  calcul = (event) => {\n    event.preventDefault();\n    const datas = this.state.selectedProducts;\n\n    apiHandler\n      .createRecipe(datas)\n      .then((data) => {\n        this.props.history.push(`/api/products/result/${data._id}`);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  roundNumber = (number) => {\n    return number.toFixed([2]);\n  };\n\n  coloredNumber = (number) => {\n    if (number < 0.5) return \"green\";\n    else if (number >= 0.5 && number < 1.5) return \"orange\";\n    else return \"red\";\n  };\n\n  render() {\n    return (\n      <div>\n        <h1>Simulateur de recette</h1>\n        <p>\n          Entrez ici des ingrédients afin de simuler l'impact environnemental de\n          votre recette\n        </p>\n        <form onSubmit={this.handleSubmit}>\n          <Autocomplete\n            id=\"product\"\n            options={AgribalyseSorted}\n            getOptionLabel={(option) => option.nom_francais}\n            filterOptions={filterOptions}\n            style={{ width: 300 }}\n            onChange={(event, value) => {\n              this.onProductChange(value);\n            }}\n            renderInput={(params) => (\n              <TextField\n                {...params}\n                label=\"Produit\"\n                variant=\"outlined\"\n                name=\"TextField\"\n              />\n            )}\n          />\n        </form>\n        {this.state.selectedProducts.length === 0 ? (\n          <div>\n            <h4>Ajouter des produits</h4>\n          </div>\n        ) : (\n          <div>\n            {this.state.selectedProducts.map((prod) => {\n              return (\n                <div key={prod.nom_francais}>\n                  <div className=\"product-selected\">\n                    <p>\n                      {prod.nom_francais} :{\" \"}\n                      <span\n                        style={{\n                          color: this.coloredNumber(\n                            prod.impact_environnemental[\"Score unique EF\"]\n                              .synthese\n                          ),\n                          fontWeight: \"bold\",\n                        }}\n                      >\n                        {this.roundNumber(\n                          prod.impact_environnemental[\"Score unique EF\"]\n                            .synthese\n                        )}\n                      </span>\n                    </p>\n                    <img\n                      src=\"/media/delete.png\"\n                      alt=\"delete button\"\n                      style={{ height: \"15px\", marginLeft: \"5px\" }}\n                      onClick={() => {\n                        this.deleteProduct(prod.nom_francais);\n                      }}\n                    />\n                  </div>\n                  <div>\n                    <form className=\"input-quantity\">\n                      <label htmlFor=\"label\">Quantité</label>\n                      <input\n                        type=\"number\"\n                        id={prod.nom_francais}\n                        name=\"product\"\n                        min=\"0\"\n                        max=\"100\"\n                        size=\"50\"\n                        value={prod.qty}\n                        onChange={(event) =>\n                          this.handleValue(\n                            event.target.value,\n                            prod.nom_francais\n                          )\n                        }\n                      />\n                      <label htmlFor=\"label\">g</label>\n                    </form>\n                  </div>\n                </div>\n              );\n            })}\n            <form onSubmit={this.calcul}>\n              <Button\n                style={style}\n                onClick={this.calcul}\n                variant=\"contained\"\n                className=\"calculate\"\n              >\n                <p>Calculer</p>\n              </Button>\n            </form>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Simulator;\n","import React, { Component } from \"react\";\nimport ReactMapboxGl, { Marker, Popup } from \"react-mapbox-gl\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport apiHandler from \"../../api/apiHandler\";\nimport { Link } from \"react-router-dom\";\nimport ScheduleIcon from \"@material-ui/icons/Schedule\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\n\nconst Map = ReactMapboxGl({\n  accessToken: process.env.REACT_APP_MAPBOX_TOKEN,\n});\n\nexport class ProducerLandingPage extends Component {\n  state = {\n    allProducers: [],\n    filteredProducers: [],\n    selectedProducer: null,\n    position: [2.3315, 48.8567],\n  };\n\n  componentDidMount() {\n    document.title = \"What the Earth — Les producteurs\";\n    apiHandler\n      .getProducers()\n      .then((producers) => {\n        this.setState({\n          allProducers: producers,\n          filteredProducers: producers,\n        });\n      })\n      .catch((err) => console.log(err));\n\n    const success = (pos) => {\n      var crd = pos.coords;\n      console.log(`Latitude : ${crd.latitude}`);\n      console.log(`Longitude : ${crd.longitude}`);\n      this.setState({ position: [crd.longitude, crd.latitude] });\n    };\n\n    const error = (err) => {\n      console.warn(`ERREUR (${err.code}): ${err.message}`);\n    };\n\n    navigator.geolocation.getCurrentPosition(success, error, {\n      enableHighAccuracy: true,\n      timeout: 5000,\n      maximumAge: 0,\n    });\n  }\n\n  handleFilter = (event) => {\n    if (event.target.value) {\n      this.setState({\n        filteredProducers: this.state.allProducers.filter(\n          (producer) => producer.field === event.target.value\n        ),\n        selectedProducer: null,\n      });\n    } else {\n      this.setState({\n        filteredProducers: this.state.allProducers,\n        selectedProducer: null,\n      });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <Map\n          // eslint-disable-next-line\n          style=\"mapbox://styles/mapbox/light-v10\"\n          containerStyle={{\n            height: \"50vh\",\n            width: \"100vw\",\n          }}\n          center={this.state.position}\n        >\n          {this.state.filteredProducers.map((producer) => (\n            <Marker\n              key={producer._id}\n              coordinates={producer.location.coordinates}\n              offsetTop={-48}\n              offsetLeft={-24}\n              onClick={() => {\n                if (this.state.selectedProducer === null) {\n                  this.setState({ selectedProducer: producer });\n                } else {\n                  this.setState({ selectedProducer: null });\n                }\n              }}\n            >\n              <img\n                style={{ width: \"40px\" }}\n                src=\"/media/marker.png\"\n                alt={producer.companyName}\n              />\n            </Marker>\n          ))}\n          {this.state.selectedProducer !== null && (\n            <Popup\n              coordinates={this.state.selectedProducer.location.coordinates}\n              offset={{\n                \"bottom-left\": [12, -38],\n                bottom: [0, -38],\n                \"bottom-right\": [-12, -38],\n              }}\n            >\n              <p>{this.state.selectedProducer.companyName}</p>\n              <p>{this.state.selectedProducer.field}</p>\n              <p>{this.state.selectedProducer.formattedAddress}</p>\n              <Link\n                className=\"link-underlined\"\n                to={`/producers/${this.state.selectedProducer._id}`}\n              >\n                Je découvre\n              </Link>\n            </Popup>\n          )}\n        </Map>\n        <FormControl\n          style={{ margin: \"10px\", width: \"80%\", margin: \"10px 10% 0 10%\" }}\n          variant=\"outlined\"\n        >\n          <InputLabel id=\"demo-simple-select-outlined-label\">Filtre</InputLabel>\n          <Select\n            id=\"selectedFilter\"\n            name=\"selectedFilter\"\n            label=\"Filtre\"\n            onChange={this.handleFilter}\n            // value={this.state.selectedFilter}\n          >\n            <MenuItem value={false}>Tous les commerces</MenuItem>\n            <MenuItem value={\"Fromagerie\"}>Fromager</MenuItem>\n            <MenuItem value={\"Boulangerie\"}>Boulanger</MenuItem>\n            <MenuItem value={\"Poissonnerie\"}>Poissonier</MenuItem>\n            <MenuItem value={\"Boucherie\"}>Boucher</MenuItem>\n            <MenuItem value={\"Maraîcher\"}>Maraîcher</MenuItem>\n            <MenuItem value={\"Primeur\"}>Primeur</MenuItem>\n            <MenuItem value={\"Caviste\"}>Caviste</MenuItem>\n          </Select>\n        </FormControl>\n        <div className=\"scrolling-wrapper\">\n          {this.state.filteredProducers.map((producer) => (\n            <div className=\"producer\" key={producer._id}>\n              <div\n                style={{\n                  width: \"auto\",\n                  height: \"125px\",\n                  backgroundImage: `url(${producer.bannerImg})`,\n                  backgroundPosition: \"center\",\n                  backgroundSize: \"cover\",\n                  backgroundRepeat: \"no-repeat\",\n                }}\n              ></div>\n              <p>{producer.companyName}</p>\n              <p>{producer.field}</p>\n              <p>{producer.formattedAddress}</p>\n              <p>\n                <ScheduleIcon />\n                {producer.schedule}\n              </p>\n              <Link\n                className=\"link-underlined\"\n                to={`/producers/${producer._id}`}\n              >\n                View more\n              </Link>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ProducerLandingPage;\n","import React, { Component } from \"react\";\nimport apiHandler from \"../../api/apiHandler\";\nimport Button from \"@material-ui/core/Button\";\nimport ReactMapboxGl, { Marker } from \"react-mapbox-gl\";\nimport \"mapbox-gl/dist/mapbox-gl.css\";\nimport PhoneIphoneIcon from \"@material-ui/icons/PhoneIphone\";\nimport EmailIcon from \"@material-ui/icons/Email\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { withUser } from \"../../components/Auth/withUser\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Moment from \"react-moment\";\nimport \"moment-timezone\";\nimport DescriptionIcon from \"@material-ui/icons/Description\";\nimport ScheduleIcon from \"@material-ui/icons/Schedule\";\nimport LocationOnIcon from \"@material-ui/icons/LocationOn\";\nimport Avatar from \"@material-ui/core/Avatar\";\n\nconst style = {\n  background: \"#87a878\",\n  color: \"white\",\n};\n\nconst Map = ReactMapboxGl({\n  accessToken: process.env.REACT_APP_MAPBOX_TOKEN,\n});\n\nexport class ProducerDescriptionPage extends Component {\n  state = {\n    producer: \"\",\n    comments: [],\n    rate: 1,\n    review: \"\",\n    producerId: this.props.match.params.id,\n    visibilityForm: \"none\",\n  };\n\n  handleChange = (event) => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  componentDidMount() {\n    apiHandler\n      .getOneProducer(this.props.match.params.id)\n      .then((producer) => {\n        this.setState({ producer });\n      })\n      .catch((err) => console.log(err));\n\n    apiHandler\n      .getComments(this.props.match.params.id)\n      .then((comments) => {\n        this.setState({ comments });\n      })\n      .catch((err) => console.log(err));\n  }\n\n  starsRating = (rating) => {\n    var ratingRounded = Math.floor(rating);\n    if (ratingRounded === 1) {\n      return <p>★☆☆☆☆</p>;\n    } else if (ratingRounded === 2) {\n      return <p>★★☆☆☆</p>;\n    } else if (ratingRounded === 3) {\n      return <p>★★★☆☆</p>;\n    } else if (ratingRounded === 4) {\n      return <p>★★★★☆</p>;\n    } else if (ratingRounded === 5) {\n      return <p>★★★★★</p>;\n    } else {\n      return null;\n    }\n  };\n\n  handleClickForm = () => {\n    if (this.state.visibilityForm === \"none\") {\n      this.setState({ visibilityForm: \"flex\" });\n      // window.scrollTo(0, document.body.scrollHeight);\n    } else {\n      this.setState({ visibilityForm: \"none\" });\n    }\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    apiHandler\n      .postComment(this.state)\n      .then((data) => {\n        const dataFormatted = { ...data };\n        dataFormatted.userId = {\n          firstName: this.props.context.user.firstName,\n          image: this.props.context.user.image,\n        };\n        this.setState({ comments: [...this.state.comments, dataFormatted] });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n\n    this.setState({ review: \"\", rate: 1 });\n  };\n\n  render() {\n    if (!this.state.producer) {\n      return (\n        <img src=\"/media/loading.gif\" alt=\"loading icon\" className=\"loading\" />\n      );\n    }\n    return (\n      <div>\n        <div style={{ position: \"relative\" }}>\n          <div\n            style={{\n              width: \"auto\",\n              height: \"186px\",\n              filter: \"brightness(50%)\",\n              backgroundImage: `url(${this.state.producer.bannerImg})`,\n              backgroundPosition: \"center\",\n              backgroundSize: \"cover\",\n              backgroundRepeat: \"no-repeat\",\n            }}\n          ></div>\n          <div\n            style={{\n              position: \"absolute\",\n              bottom: \"0%\",\n              left: \"0%\",\n              color: \"white\",\n              margin: \"0 0 10px 10px\",\n            }}\n          >\n            <h2>{this.state.producer.companyName}</h2>\n            <p>{this.state.producer.field}</p>\n          </div>\n        </div>\n        <p>\n          Note moyenne{\" \"}\n          {this.starsRating(\n            this.state.comments.reduce((a, b) => a + b.rate, 0) /\n              this.state.comments.length\n          )}\n        </p>\n        <p>\n          <DescriptionIcon />\n          Description : {this.state.producer.description}\n        </p>\n        <p>\n          <ScheduleIcon />\n          Horaires : {this.state.producer.schedule}\n        </p>\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"space-around\",\n            alignItems: \"center\",\n          }}\n        >\n          <Button\n            style={style}\n            variant=\"contained\"\n            startIcon={<PhoneIphoneIcon />}\n            href={\"tel:\" + this.state.producer.phoneNumber}\n          >\n            Appeler\n          </Button>\n          <Button\n            style={style}\n            variant=\"contained\"\n            startIcon={<EmailIcon />}\n            href={\"mailto:\" + this.state.producer.email}\n          >\n            Envoyer un email\n          </Button>\n        </div>\n        <h2 style={{ textAlign: \"center\", margin: \"10px\" }}>Où acheter ?</h2>\n        <p>\n          <LocationOnIcon />\n          {this.state.producer.formattedAddress}\n        </p>\n        <Map\n          // eslint-disable-next-line\n          style=\"mapbox://styles/mapbox/light-v10\"\n          containerStyle={{\n            height: \"30vh\",\n            width: \"100vw\",\n          }}\n          center={this.state.producer.location.coordinates}\n        >\n          <Marker\n            key={this.state.producer._id}\n            coordinates={this.state.producer.location.coordinates}\n            anchor=\"bottom\"\n          >\n            <img\n              style={{ width: \"50px\" }}\n              src=\"/media/marker.png\"\n              alt={this.state.producer.companyName}\n            />\n          </Marker>\n        </Map>\n        <h2 style={{ textAlign: \"center\", margin: \"10px\" }}>Avis</h2>\n        {this.state.comments.length === 0 ? (\n          <p>Pas d'avis pour le moment</p>\n        ) : (\n          this.state.comments.map((comment) => (\n            <div key={comment._id} className=\"comments\">\n              <Avatar\n                alt={comment.userId.firstName}\n                src={comment.userId.image}\n              />\n              <p>\n                Par {comment.userId.firstName} — le{\" \"}\n                <Moment format=\"DD/MM/YYYY\">{comment.createdAt}</Moment> à{\" \"}\n                <Moment format=\"HH:mm\">{comment.createdAt}</Moment>\n              </p>\n              {this.starsRating(comment.rate)}\n              <p>{comment.review}</p>\n            </div>\n          ))\n        )}\n        {this.props.context.isLoggedIn && !this.props.context.producer ? (\n          <div className=\"center-column\">\n            <Button\n              onClick={this.handleClickForm}\n              variant=\"contained\"\n              startIcon={<AddIcon />}\n              style={style}\n            >\n              J'ajoute mon avis\n            </Button>\n            <form\n              className=\"center-column\"\n              onChange={this.handleChange}\n              onSubmit={this.handleSubmit}\n              style={{ display: this.state.visibilityForm }}\n            >\n              <TextField\n                id=\"outlined-multiline-static\"\n                label=\"Commentaire\"\n                name=\"review\"\n                multiline\n                rows={4}\n                variant=\"outlined\"\n                value={this.state.review}\n                style={{ margin: \"10px\" }}\n              />\n              <FormControl style={{ margin: \"10px\" }} variant=\"outlined\">\n                <InputLabel id=\"demo-simple-select-outlined-label\">\n                  Note\n                </InputLabel>\n                <Select\n                  style={{ width: \"195px\" }}\n                  id=\"rate\"\n                  name=\"rate\"\n                  label=\"Note\"\n                  onChange={this.handleChange}\n                  value={this.state.rate}\n                >\n                  <MenuItem value={1}>★☆☆☆☆</MenuItem>\n                  <MenuItem value={2}>★★☆☆☆</MenuItem>\n                  <MenuItem value={3}>★★★☆☆</MenuItem>\n                  <MenuItem value={4}>★★★★☆</MenuItem>\n                  <MenuItem value={5}>★★★★★</MenuItem>\n                </Select>\n              </FormControl>\n              <Button type=\"submit\">Publier</Button>\n            </form>\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default withUser(ProducerDescriptionPage);\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport { withUser } from \"../components/Auth/withUser\";\n\nconst ProtectedRoute = ({ component: Component, context, ...rest }) => {\n  if (context.isLoading) {\n    return null;\n  } else if (context.isLoggedIn) {\n    return <Route {...rest} render={(props) => <Component {...props} />} />;\n  } else {\n    return <Redirect to=\"/signin\" />;\n  }\n};\n\nexport default withUser(ProtectedRoute);\n","import React from \"react\";\nimport { withUser } from \"../../components/Auth/withUser\";\nimport apiHandler from \"../../api/apiHandler\";\nimport { Link } from \"react-router-dom\";\nimport Button from \"@material-ui/core/Button\";\nimport \"../../styles/User.css\";\n\nconst style = {\n  background: \"#87a878\",\n  color: \"white\",\n};\n\nclass UserPage extends React.Component {\n  handleLogout = () => {\n    apiHandler\n      .logout()\n      .then(() => {\n        this.props.context.removeUser();\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  render() {\n    if (!this.props.context.user) {\n      return (\n        <div>\n          <img\n            src=\"/media/loading.gif\"\n            alt=\"loading icon\"\n            className=\"loading\"\n          />\n        </div>\n      );\n    }\n\n    return (\n      <div>\n        <h2>Compte</h2>\n        <br />\n\n        <div>\n          <img src={this.props.context.user.image} alt=\"pp\" />\n        </div>\n\n        <div>\n          <h3>{this.props.context.user.firstName}</h3>\n        </div>\n\n        <div>\n          <h3>{this.props.context.user.lastName}</h3>\n        </div>\n\n        <div>\n          <h3>{this.props.context.user.email}</h3>\n        </div>\n\n        <div>\n          <Link to={`/profile/${this.props.context.user._id}`}>\n            <Button style={style} variant=\"contained\">\n              Modifier mon profil\n            </Button>\n          </Link>\n        </div>\n\n        <div onClick={this.handleLogout}>\n          <Button style={style} variant=\"contained\">\n            Se déconnecter\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withUser(UserPage);\n","import React, { Component } from \"react\";\nimport apiHandler from \"../../api/apiHandler\";\nimport { withUser } from \"../../components/Auth/withUser\";\nimport { Link } from \"react-router-dom\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\";\nimport { Redirect } from \"react-router-dom\";\nimport \"../../styles/User.css\";\n\nconst style = {\n  background: \"#87a878\",\n  color: \"white\",\n};\n\nclass UserUpdate extends Component {\n  state = {\n    user: null,\n    httpResponse: null,\n    isLoading: true,\n  };\n\n  imageRef = React.createRef();\n\n  componentDidMount() {\n    apiHandler\n      .getUserInfos(this.props.context.user._id)\n      .then((data) => {\n        this.setState({ user: data, isLoading: false });\n      })\n      .catch((error) => {\n        this.setState({\n          isLoading: false,\n          httpResponse: {\n            status: \"failure\",\n            message: \"Failure, please try again later\",\n          },\n        });\n      });\n  }\n\n  handleChange = (event) => {\n    const key = event.target.name;\n    const value = event.target.value;\n    this.setState({ user: { ...this.state.user, [key]: value } });\n  };\n\n  checkError = () => {\n    for (const key in this.state.user) {\n      if (this.state[key] === \"\") {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    const fd = new FormData();\n\n    for (const key in this.state.user) {\n      if (key === \"image\") continue;\n      fd.append(key, this.state.user[key]);\n    }\n\n    if (this.imageRef.current.files[0]) {\n      fd.append(\"image\", this.imageRef.current.files[0]);\n    }\n\n    apiHandler\n      .updateUser(fd)\n      .then((data) => {\n        this.props.context.setUser(data, () => {\n          this.props.history.push(\"/profile\");\n        });\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  // to add a preview of the uploaded image before saving\n  handleFileSelect = (event) => {\n    const file = event.target.files[0];\n    const url = URL.createObjectURL(file);\n    this.setState({ url: url });\n  };\n\n  render() {\n    if (!this.state.user) {\n      return (\n        <div>\n          <img\n            src=\"/media/loading.gif\"\n            alt=\"loading icon\"\n            className=\"loading\"\n          />\n        </div>\n      );\n    }\n\n    return (\n      <form onSubmit={this.handleSubmit} className=\"User__container\">\n        <h3>Updater mon profil</h3>\n\n        <img src={this.state.url} alt=\"\" />\n        <div>\n          <input\n            onChange={this.handleFileSelect}\n            type=\"file\"\n            ref={this.imageRef}\n            id=\"icon-button-file\"\n          />\n          <label htmlFor=\"icon-button-file\">\n            <IconButton\n              style={style}\n              color=\"primary\"\n              aria-label=\"upload picture\"\n              component=\"span\"\n            >\n              <PhotoCamera fontSize=\"large\" />\n            </IconButton>\n          </label>\n        </div>\n\n        <div>\n          <div>\n            <label htmlFor=\"firstName\">Prénom</label>\n            <input\n              type=\"text\"\n              name=\"firstName\"\n              value={this.state.user.firstName}\n              onChange={this.handleChange}\n              id=\"firstName\"\n            />\n          </div>\n\n          <div>\n            <label htmlFor=\"lastName\">Nom</label>\n            <input\n              type=\"text\"\n              name=\"lastName\"\n              value={this.state.user.lastName}\n              onChange={this.handleChange}\n              id=\"lastName\"\n            />\n          </div>\n\n          <div>\n            <label htmlFor=\"email\">Email</label>\n            <input\n              type=\"email\"\n              name=\"email\"\n              value={this.state.user.email}\n              onChange={this.handleChange}\n              id=\"email\"\n            />\n          </div>\n        </div>\n\n        <Button\n          style={style}\n          onClick={this.handleSubmit}\n          variant=\"contained\"\n          disabled={this.checkError()}\n        >\n          Mettre à jour mon profil\n        </Button>\n\n        <Link to={`/profile/${this.props.context.user._id}/password`}>\n          <Button\n            style={style}\n            variant=\"contained\"\n            disabled={this.checkError()}\n          >\n            Mettre à jour mon mot de passe\n          </Button>\n        </Link>\n      </form>\n    );\n  }\n}\n\nexport default withUser(UserUpdate);\n","import React, { Component } from \"react\";\nimport apiHandler from \"../../api/apiHandler\";\nimport Button from \"@material-ui/core/Button\";\nimport \"../../styles/User.css\";\n\nconst style = {\n  background: \"#87a878\",\n  color: \"white\",\n};\n\nclass PasswordUpdate extends Component {\n  state = {\n    old_password: \"\",\n    new_password: \"\",\n    confirmed_password: \"\",\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    if (this.state.new_password === this.state.confirmed_password) {\n      const { new_password, old_password } = this.state;\n      apiHandler\n        .updateUserPassword({ new_password, old_password })\n        .then((data) => {\n          console.dir(data);\n          console.log(\"password changed\");\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n  };\n\n  checkError = () => {\n    for (const key in this.state.user) {\n      if (this.state[key] === \"\") {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  handleChange = (event) => {\n    const key = event.target.name;\n    const value = event.target.value;\n    this.setState({ [key]: value });\n  };\n\n  render() {\n    console.log(\"rendering\");\n    return (\n      <form onSubmit={this.handleSubmit} className=\"User__container\">\n        <h2>Modifier mon mot de passe</h2>\n\n        <div>\n          <label htmlFor=\"old_password\">Ancien mot de passe</label>\n          <input\n            onChange={this.handleChange}\n            type=\"password\"\n            id=\"old_password\"\n            name=\"old_password\"\n            value={this.state.old_password}\n          />\n        </div>\n\n        <div>\n          <label htmlFor=\"new_password\">Nouveau mot de passe</label>\n          <input\n            onChange={this.handleChange}\n            type=\"password\"\n            id=\"new_password\"\n            name=\"new_password\"\n            value={this.state.new_password}\n          />\n        </div>\n\n        <div>\n          <label htmlFor=\"confirmed_password\">\n            Confirmer nouveau mot de passe\n          </label>\n          <input\n            onChange={this.handleChange}\n            type=\"password\"\n            id=\"confirmed_password\"\n            name=\"confirmed_password\"\n            value={this.state.confirmed_password}\n          />\n        </div>\n\n        <div>\n          <Button\n            style={style}\n            onClick={this.handleSubmit}\n            variant=\"contained\"\n            disabled={this.checkError()}\n          >\n            Enregistrer\n          </Button>\n        </div>\n      </form>\n    );\n  }\n}\n\nexport default PasswordUpdate;\n","import React from \"react\";\n\nconst About = () => {\n  return (\n    <div>\n      <h2>A propos</h2>\n      <br />\n      <ul>\n        <li>\n          Pour ceux qui veulent connaître l'impacte environnemental de leur\n          alimentation et agir en conséquence.\n        </li>\n        <li>\n          Pour ceux qui ont pris conscience qu'ils pouvaient mieux consommer.\n        </li>\n        <li>Pour ceux qui veulent mieux manger : local, frais, fermier.</li>\n        <li>Pour ceux qui souhaitent acheter en direct des producteurs.</li>\n        <li>Pour ceux qui s'engagent pour un monde meilleur.</li>\n      </ul>\n    </div>\n  );\n};\n\nexport default About;\n","import React, { Component } from \"react\";\nimport \"../../styles/LocationAutoComplete.css\";\nimport axios from \"axios\";\nimport TextField from \"@material-ui/core/TextField\";\n\nclass LocationAutoComplete extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      search: \"\",\n      results: [],\n      isLoading: false,\n    };\n    this.handleSearchChange = this.handleSearchChange.bind(this);\n\n    if (!process.env.REACT_APP_MAPBOX_TOKEN) {\n      throw new Error(\n        \"You don't have any 'process.env.REACT_APP_MAPBOX_API_KEY'\"\n      );\n    }\n  }\n\n  handleSearchChange(e) {\n    this.setState({\n      search: e.target.value,\n      isLoading: true,\n    });\n\n    // Stop the previous setTimeout if there is one in progress\n    clearTimeout(this.timeoutId);\n\n    // Launch a new request in 1000ms (1s) => Avoids excessive requests to the end point.\n    this.timeoutId = setTimeout(() => {\n      this.performSearch();\n    }, 1000);\n  }\n\n  performSearch() {\n    if (this.state.search === \"\") {\n      this.setState({\n        results: [],\n        isLoading: false,\n      });\n      return;\n    }\n\n    axios\n      .get(\n        `https://api.mapbox.com/geocoding/v5/mapbox.places/${this.state.search}.json?access_token=${process.env.REACT_APP_MAPBOX_TOKEN}`\n      )\n      .then((response) => {\n        this.setState({\n          results: response.data.features,\n          isLoading: false,\n        });\n      });\n  }\n\n  handleItemClicked(place) {\n    this.setState({\n      search: place.place_name,\n      results: [],\n    });\n\n    this.props.onSelect(place);\n  }\n\n  render() {\n    return (\n      <div className=\"LocationAutoComplete\">\n        <TextField\n          className=\"input\"\n          type=\"text\"\n          name=\"location\"\n          variant=\"outlined\"\n          label=\"Adresse\"\n          value={this.state.search}\n          onChange={this.handleSearchChange}\n        />\n        <ul className=\"LocationAutoComplete-results\">\n          {this.state.results.map((place) => (\n            <li\n              key={place.id}\n              className=\"LocationAutoComplete-items\"\n              onClick={() => this.handleItemClicked(place)}\n            >\n              {place.place_name}\n            </li>\n          ))}\n          {this.state.isLoading && (\n            <li className=\"LocationAutoComplete-items\">Loading...</li>\n          )}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default LocationAutoComplete;\n","export function buildFormData(formData, data, parentKey) {\n  if (\n    data &&\n    typeof data === \"object\" &&\n    !(data instanceof Date) &&\n    !(data instanceof File)\n  ) {\n    Object.keys(data).forEach((key) => {\n      buildFormData(\n        formData,\n        data[key],\n        parentKey ? `${parentKey}[${key}]` : key\n      );\n    });\n  } else {\n    const value = data == null ? \"\" : data;\n    formData.append(parentKey, value);\n  }\n}\n","import React, { Component } from \"react\";\nimport { withRouter, Redirect } from \"react-router-dom\";\nimport { UserContext } from \"../Auth/UserContext\";\nimport apiHandler from \"../../api/apiHandler\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport LocationAutoComplete from \"./LocationAutoComplete\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\";\nimport { buildFormData } from \"../../utils\";\n\nconst style = {\n  background: \"#87a878\",\n  color: \"white\",\n};\n\nclass FormRegisterCompany extends Component {\n  static contextType = UserContext;\n\n  state = {\n    firstName: \"\",\n    lastName: \"\",\n    companyName: \"\",\n    phoneNumber: \"\",\n    schedule: \"\",\n    field: \"\",\n    description: \"\",\n    email: \"\",\n    password: \"\",\n    location: {\n      coordinates: [],\n    },\n    bannerImg: \"\",\n  };\n\n  imageRef = React.createRef();\n\n  handleChange = (event) => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  handlePlace = (place) => {\n    const location = place.geometry;\n    this.setState({ location, formattedAddress: place.place_name });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    const fd = new FormData();\n    const { bannerImg, ...rest } = this.state;\n\n    buildFormData(fd, rest);\n    console.log(Object.fromEntries(fd));\n\n    if (this.imageRef.current.files[0]) {\n      console.log(this.imageRef.current.files[0]);\n      fd.append(\"bannerImg\", this.imageRef.current.files[0]);\n    }\n\n    apiHandler\n      .registerProducer(fd)\n      .then((data) => {\n        this.context.setUser(data);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  handleFileSelect = (event) => {\n    const file = event.target.files[0];\n    const url = URL.createObjectURL(file);\n    this.setState({ url: url });\n  };\n\n  render() {\n    if (this.context.user) {\n      return <Redirect to=\"/\" />;\n    }\n\n    return (\n      <form\n        onChange={this.handleChange}\n        onSubmit={this.handleSubmit}\n        className=\"center-column\"\n      >\n        <TextField\n          style={{ margin: \"10px\" }}\n          variant=\"outlined\"\n          label=\"Nom de l'entreprise\"\n          value={this.state.companyName}\n          type=\"text\"\n          id=\"companyName\"\n          name=\"companyName\"\n        />\n        <LocationAutoComplete name=\"location\" onSelect={this.handlePlace} />\n        <TextField\n          style={{ margin: \"10px\" }}\n          variant=\"outlined\"\n          label=\"Prénom\"\n          value={this.state.producerFirstName}\n          type=\"text\"\n          id=\"firstName\"\n          name=\"firstName\"\n        />\n        <TextField\n          style={{ margin: \"10px\" }}\n          variant=\"outlined\"\n          label=\"Nom de famille\"\n          value={this.state.producerLastName}\n          type=\"text\"\n          id=\"lastName\"\n          name=\"lastName\"\n        />\n        <TextField\n          style={{ margin: \"10px\" }}\n          variant=\"outlined\"\n          label=\"Email\"\n          value={this.state.email}\n          type=\"email\"\n          id=\"email\"\n          name=\"email\"\n        />\n        <TextField\n          style={{ margin: \"10px\" }}\n          variant=\"outlined\"\n          label=\"Mot de passe\"\n          value={this.state.password}\n          type=\"password\"\n          id=\"password\"\n          name=\"password\"\n        />\n        <TextField\n          style={{ margin: \"10px\" }}\n          variant=\"outlined\"\n          label=\"Numéro de téléphone\"\n          value={this.state.phoneNumber}\n          type=\"text\"\n          id=\"phoneNumber\"\n          name=\"phoneNumber\"\n        />\n        <TextField\n          style={{ margin: \"10px\" }}\n          variant=\"outlined\"\n          label=\"Horaires\"\n          value={this.state.schedule}\n          type=\"text\"\n          id=\"schedule\"\n          name=\"schedule\"\n        />\n        <FormControl style={{ margin: \"10px\" }} variant=\"outlined\">\n          <InputLabel id=\"demo-simple-select-outlined-label\">Type</InputLabel>\n          <Select\n            style={{ width: \"195px\" }}\n            id=\"field\"\n            name=\"field\"\n            value={this.state.field}\n            label=\"Type\"\n            onChange={this.handleChange}\n          >\n            <MenuItem value=\"\">\n              <em>Aucun</em>\n            </MenuItem>\n            <MenuItem value={\"Fromagerie\"}>Fromager</MenuItem>\n            <MenuItem value={\"Boulangerie\"}>Boulanger</MenuItem>\n            <MenuItem value={\"Poissonnerie\"}>Poissonier</MenuItem>\n            <MenuItem value={\"Boucherie\"}>Boucher</MenuItem>\n            <MenuItem value={\"Maraîcher\"}>Maraîcher</MenuItem>\n            <MenuItem value={\"Primeur\"}>Primeur</MenuItem>\n            <MenuItem value={\"Caviste\"}>Caviste</MenuItem>\n          </Select>\n        </FormControl>\n        <TextField\n          style={{ margin: \"10px\" }}\n          variant=\"outlined\"\n          label=\"Description\"\n          value={this.state.description}\n          type=\"text\"\n          id=\"description\"\n          name=\"description\"\n        />\n        <img src={this.state.url} alt=\"\" />\n        <div>\n          <input\n            onChange={this.handleFileSelect}\n            type=\"file\"\n            ref={this.imageRef}\n            id=\"icon-button-file\"\n          />\n          <label htmlFor=\"icon-button-file\">\n            <IconButton\n              style={style}\n              color=\"primary\"\n              aria-label=\"upload picture\"\n              component=\"span\"\n            >\n              <PhotoCamera fontSize=\"large\" />\n            </IconButton>\n          </label>\n        </div>\n        <Button style={style} type=\"submit\" variant=\"contained\">\n          Créer entreprise\n        </Button>\n      </form>\n    );\n  }\n}\n\nexport default withRouter(FormRegisterCompany);\n","import React, { Component } from \"react\";\nimport { UserContext } from \"../Auth/UserContext\";\nimport { withRouter, Redirect } from \"react-router-dom\";\nimport apiHandler from \"../../api/apiHandler\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\n\nconst style = {\n  background: \"#87a878\",\n  color: \"white\",\n};\n\nclass FormSignin extends Component {\n  static contextType = UserContext;\n\n  state = {\n    email: \"\",\n    password: \"\",\n  };\n\n  handleChange = (event) => {\n    const key = event.target.name;\n    const value = event.target.value;\n\n    this.setState({ [key]: value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    apiHandler\n      .signinProducer(this.state)\n      .then((data) => {\n        this.context.setUser(data);\n      })\n      .catch((error) => {\n        console.log(error);\n        // Display error message here, if you set the state\n      });\n  };\n\n  render() {\n    if (this.context.user) {\n      return <Redirect to=\"/\" />;\n    }\n\n    return (\n      <form\n        className=\"center-column\"\n        onChange={this.handleChange}\n        onSubmit={this.handleSubmit}\n      >\n        <TextField\n          style={{ margin: \"10px\" }}\n          id=\"outlined-email-input\"\n          type=\"email\"\n          name=\"email\"\n          label=\"Email\"\n          variant=\"outlined\"\n        />\n        <TextField\n          style={{ margin: \"10px\" }}\n          id=\"outlined-password-input\"\n          label=\"Mot de passe\"\n          type=\"password\"\n          name=\"password\"\n          autoComplete=\"current-password\"\n          variant=\"outlined\"\n        />\n        <Button style={style} type=\"submit\" variant=\"contained\">\n          Se connecter\n        </Button>\n      </form>\n    );\n  }\n}\n\nexport default withRouter(FormSignin);\n","import React from \"react\";\nimport FormSigninProducer from \"../components/Forms/FormSigninProducer\";\n\nconst Signin = (props) => {\n  return (\n    <div>\n      <h1>Connectez-vous à votre espace pro What the Earth.</h1>\n      <FormSigninProducer />\n    </div>\n  );\n};\n\nexport default Signin;\n","import React, { Component } from \"react\";\nimport { withRouter, Redirect } from \"react-router-dom\";\nimport { UserContext } from \"../Auth/UserContext\";\nimport apiHandler from \"../../api/apiHandler\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport LocationAutoComplete from \"./LocationAutoComplete\";\n\nclass FormEditCompany extends Component {\n  static contextType = UserContext;\n\n  state = {\n    producerFirstName: \"\",\n    producerLastName: \"\",\n    companyName: \"\",\n    phoneNumber: \"\",\n    schedule: \"\",\n    field: \"\",\n    description: \"\",\n    email: \"\",\n    location: {\n      coordinates: [],\n    },\n    formattedAddress: \"\",\n  };\n\n  componentDidMount() {\n    apiHandler\n      .getOneProducer(this.props.match.params.id)\n      .then((data) => {\n        this.setState({\n          producerFirstName: data.producerFirstName,\n          producerLastName: data.producerLastName,\n          companyName: data.companyName,\n          phoneNumber: data.phoneNumber,\n          schedule: data.schedule,\n          field: data.field,\n          description: data.description,\n          email: data.email,\n          location: {\n            coordinates: data.location.coordinates,\n          },\n          formattedAddress: data.formattedAddress,\n        });\n      })\n      .catch((error) => {\n        this.setState({\n          isLoading: false,\n          httpResponse: {\n            status: \"failure\",\n            message: \"Failure, please try again later\",\n          },\n        });\n      });\n  }\n\n  handleChange = (event) => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  handlePlace = (place) => {\n    const location = place.geometry;\n    this.setState({ location, formattedAddress: place.place_name });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    apiHandler\n      .updateProducer(this.props.match.params.id, this.state)\n      .then((data) => {\n        this.context.setUser(data);\n        this.props.history.push(\"/\");\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  render() {\n    if (!this.context.user) {\n      return <Redirect to=\"/\" />;\n    }\n\n    return (\n      <form\n        onChange={this.handleChange}\n        onSubmit={this.handleSubmit}\n        className=\"center-column\"\n      >\n        <TextField\n          style={{ margin: \"10px\" }}\n          variant=\"outlined\"\n          label=\"Nom de l'entreprise\"\n          value={this.state.companyName}\n          type=\"text\"\n          id=\"companyName\"\n          name=\"companyName\"\n        />\n        <LocationAutoComplete name=\"location\" onSelect={this.handlePlace} />\n        <TextField\n          style={{ margin: \"10px\" }}\n          variant=\"outlined\"\n          label=\"Prénom\"\n          value={this.state.producerFirstName}\n          type=\"text\"\n          id=\"producerFirstName\"\n          name=\"producerFirstName\"\n        />\n        <TextField\n          style={{ margin: \"10px\" }}\n          variant=\"outlined\"\n          label=\"Nom de famille\"\n          value={this.state.producerLastName}\n          type=\"text\"\n          id=\"producerLastName\"\n          name=\"producerLastName\"\n        />\n        <TextField\n          style={{ margin: \"10px\" }}\n          variant=\"outlined\"\n          label=\"Email\"\n          value={this.state.email}\n          type=\"email\"\n          id=\"email\"\n          name=\"email\"\n        />\n        <TextField\n          style={{ margin: \"10px\" }}\n          variant=\"outlined\"\n          label=\"Numéro de téléphone\"\n          value={this.state.phoneNumber}\n          type=\"text\"\n          id=\"phoneNumber\"\n          name=\"phoneNumber\"\n        />\n        <TextField\n          style={{ margin: \"10px\" }}\n          variant=\"outlined\"\n          label=\"Horaires\"\n          value={this.state.schedule}\n          type=\"text\"\n          id=\"schedule\"\n          name=\"schedule\"\n        />\n        <FormControl style={{ margin: \"10px\" }} variant=\"outlined\">\n          <InputLabel id=\"demo-simple-select-outlined-label\">Type</InputLabel>\n          <Select\n            style={{ width: \"195px\" }}\n            id=\"field\"\n            name=\"field\"\n            value={this.state.field}\n            label=\"Type\"\n            onChange={this.handleChange}\n          >\n            <MenuItem value=\"\">\n              <em>Aucun</em>\n            </MenuItem>\n            <MenuItem value={\"Fromager\"}>Fromager</MenuItem>\n            <MenuItem value={\"Boucher\"}>Boucher</MenuItem>\n            <MenuItem value={\"Maraîcher\"}>Maraîcher</MenuItem>\n          </Select>\n        </FormControl>\n        <TextField\n          style={{ margin: \"10px\" }}\n          variant=\"outlined\"\n          label=\"Description\"\n          value={this.state.description}\n          type=\"text\"\n          id=\"description\"\n          name=\"description\"\n        />\n        <Button style={{ margin: \"10px\" }} type=\"submit\" variant=\"contained\">\n          Mettre à jour mon entreprise\n        </Button>\n      </form>\n    );\n  }\n}\n\nexport default withRouter(FormEditCompany);\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport NavMain from \"./components/NavMain\";\nimport Home from \"./pages/Home\";\nimport Signin from \"./pages/Signin\";\nimport Signup from \"./pages/Signup\";\nimport Products from \"./pages/Products/Products\";\nimport ProductPage from \"./pages/Products/ProductPage\";\nimport Simulator from \"./pages/Products/Simulator\";\nimport ProducerLandingPage from \"./pages/Producer/ProducerLandingPage\";\nimport ProducerDescriptionPage from \"./pages/Producer/ProducerDescriptionPage\";\nimport ProtectedRoute from \"./components/ProtectedRoute\";\nimport UserPage from \"./pages/User/UserPage\";\nimport UserUpdate from \"./pages/User/UserUpdate\";\nimport PasswordUpdate from \"./pages/User/PasswordUpdate\";\nimport About from \"./pages/About\";\nimport FormRegisterCompany from \"./components/Forms/FormRegisterCompany\";\nimport SignInProducer from \"./pages/SigninProducer\";\nimport EditProducer from \"./components/Forms/EditProducer\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <NavMain />\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/signin\" component={Signin} />\n        <Route exact path=\"/producers/signin\" component={SignInProducer} />\n        <Route exact path=\"/signup\" component={Signup} />\n        <Route exact path=\"/producers\" component={ProducerLandingPage} />\n        <Route\n          exact\n          path=\"/producers/register\"\n          component={FormRegisterCompany}\n        />\n        <Route exact path=\"/products\" component={Products} />\n        <Route exact path=\"/products/simulator\" component={Simulator} />\n        {/* <Route exact path=\"/products/simulator/results\" component={SimulatorResult} /> */}\n        <Route exact path=\"/products/:id\" component={ProductPage} />\n        <Route exact path=\"/producers/edit/:id\" component={EditProducer} />\n        <Route\n          exact\n          path=\"/producers/:id\"\n          component={ProducerDescriptionPage}\n        />\n        <ProtectedRoute exact path=\"/profile\" component={UserPage} />\n        <ProtectedRoute exact path=\"/profile/:id\" component={UserUpdate} />\n        <ProtectedRoute\n          exact\n          path=\"/profile/:id/password\"\n          component={PasswordUpdate}\n        />\n        <Route exact path=\"/about\" component={About} />\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport UserProvider from \"./components/Auth/UserProvider\";\nimport App from \"./App\";\n\nimport \"./styles/reset.css\";\nimport \"./styles/global.css\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <UserProvider>\n      <App />\n    </UserProvider>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}